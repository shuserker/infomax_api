# Implementation Plan

- [x] 1. 정상 커밋 분석 및 환경 설정
  - 정상 커밋 a763ef84를 체크아웃하여 전체 파일 구조 파악
  - 핵심 파일들과 설정 파일들 식별 및 목록화
  - 현재 손상된 시스템과의 차이점 분석 및 문서화
  - requirements.txt 기반 Python 패키지 설치 및 환경 변수 복원
  - _Requirements: 1.1, 1.3, 2.1_

- [x] 2. Git 커밋 분석 도구 구현
  - Git 명령어를 안전하게 실행하는 유틸리티 함수 작성
  - 커밋 간 파일 변경사항 분석 기능 구현
  - 핵심 로직 파일들 자동 식별 알고리즘 구현
  - _Requirements: 3.1, 3.2_

- [x] 3. 원본 로직 추출 시스템 구현
  - Python 파일 파싱 및 함수/클래스 추출 기능
  - 설정 파일 및 환경 변수 추출 기능
  - 의존성 관계 분석 및 매핑 기능
  - 추출된 로직의 구조화된 저장 기능
  - _Requirements: 3.1, 3.3_

- [x] 4. INFOMAX API 연동 모듈 복원
  - 정상 커밋의 API 연동 코드 분석 및 추출
  - API 호출 및 응답 처리 로직 구현
  - 연결 실패 시 재시도 메커니즘 구현
  - API 응답 데이터 검증 및 파싱 기능 구현
  - _Requirements: 3.3, 4.3_

- [x] 5. 뉴스 데이터 파싱 로직 구현
  - NEWYORK MARKET WATCH 데이터 파싱 기능
  - KOSPI CLOSE 데이터 파싱 기능
  - EXCHANGE RATE 데이터 파싱 기능
  - 각 데이터 소스별 상태 판단 로직 (최신, 발행 전, 발행 지연)
  - _Requirements: 3.3, 4.3_

- [x] 6. 뉴스 알림 메시지 생성 로직 완전 복원
  - 정상 커밋의 메시지 생성 알고리즘 역추적 및 복원
  - 데이터 상태별 동적 메시지 생성 로직 (최신/발행전/지연 모든 경우의 수)
  - 시간 기반 상태 판단 알고리즘 복원 (발행 시간 vs 현재 시간 비교)
  - 뉴스 타입별 개별 상태 처리 로직 (NEWYORK/KOSPI/EXCHANGE 각각)
  - 테스트/실제 모드 자동 판단 로직 및 메시지 포맷 변경
  - 트리 구조 메시지 동적 생성 알고리즘 (├, └ 구조)
  - _Requirements: 4.1, 4.4_

- [x] 7. Git 모니터링 기능 구현
  - Git 저장소 상태 확인 로직 구현
  - Git 업데이트 시도 및 오류 처리 기능
  - 충돌 감지 및 자동 해결 시도 로직
  - Git 오류 알림 메시지 생성 기능
  - _Requirements: 3.4, 4.2_

- [x] 8. 워치햄스터 모니터링 로직 완전 복원
  - 정상 커밋의 프로세스 감시 알고리즘 역추적 및 복원
  - Git 상태 체크 로직 및 모든 오류 시나리오 처리 (충돌, 네트워크, 권한 등)
  - 프로세스 생명주기 관리 로직 (시작/중단감지/재시작/복구)
  - 시스템 리소스 모니터링 알고리즘 (임계값 판단, 경고 레벨)
  - 상황별 동적 알림 메시지 생성 로직 (오류 타입에 따른 메시지 변화)
  - 자동 복구 시나리오 전체 로직 (단계별 복구 시도, 실패 처리)
  - _Requirements: 3.4, 4.2_

- [x] 9. AI 분석 엔진 로직 완전 복원
  - 정상 커밋의 시장 분석 알고리즘 역추적 및 복원
  - 뉴스 데이터 기반 시장 상황 판단 로직 (상승/하락/혼조 자동 분류)
  - 발행 현황 분석 알고리즘 (정시/지연 패턴 분석, 완료도 계산)
  - 투자 전략 생성 로직 (시장 상황별 포트폴리오 자동 조정)
  - 동적 리포트 생성 엔진 (데이터 상태에 따른 섹션 변화)
  - 시간대별 분석 로직 (영업시간, 마감시간 등 고려한 분석)
  - _Requirements: 4.3_

- [x] 10. 웹훅 전송 시스템 완전 복원
  - 정상 커밋의 웹훅 전송 로직 역추적 및 복원
  - BOT 타입별 메시지 포맷팅 로직 (뉴스/오류/상태/테스트/비교)
  - 웹훅 URL 라우팅 시스템 복원 (상황별 적절한 BOT 선택)
  - 전송 실패 시 재시도 메커니즘 복원
  - 메시지 우선순위 및 큐 관리 알고리즘 복원
  - _Requirements: 4.1, 4.2_

- [x] 11. 영업일 비교 분석 엔진 복원
  - 정상 커밋의 영업일 계산 알고리즘 역추적 및 복원
  - 과거 데이터 검색 및 비교 로직 (최대 10일 범위 자동 검색)
  - 현재/직전 데이터 상태 비교 분석 알고리즘
  - 영업일 기준 데이터 유효성 판단 로직 (주말/공휴일 처리)
  - 뉴스 타입별 개별 비교 분석 (발행 패턴, 지연 여부 등)
  - 동적 비교 리포트 생성 엔진 (데이터 존재 여부에 따른 메시지 변화)
  - _Requirements: 4.4_

- [x] 12. 파일 구조 정리 및 최적화
  - 불필요한 백업 폴더들 (.backup, .repair, .migration 등) 정리
  - 중복 파일 식별 및 제거 (현재 4,602개 → 목표 1,743개)
  - 일관된 한국어/영어 파일명 규칙 적용
  - 폴더 구조 최적화 및 재구성
  - _Requirements: 5.1, 5.2, 5.3, 5.4_

- [x] 13. 플랫폼별 실행 파일 복원
  - 정상 커밋의 Windows용(.bat) 실행 파일 복원
  - 정상 커밋의 Mac용(.sh/.command) 실행 파일 복원
  - 플랫폼별 환경 변수 및 경로 처리 로직 복원
  - 크로스 플랫폼 호환성 검증
  - _Requirements: 6.1, 6.2, 6.4_

- [x] 14. 캡처 이미지 기반 결과 검증
  - 생성된 웹훅 메시지와 캡처 이미지 완전 일치 검증
  - 메시지 포맷, 이모지, 데이터 정확성 검증
  - 시간 정보 및 상태 표시 정확성 확인
  - BOT 타입 선택 로직 검증 (뉴스/오류/상태/테스트/비교)
  - _Requirements: 4.1, 4.2, 4.3, 4.4_

- [x] 15. 전체 시스템 통합 테스트
  - API 연동부터 웹훅 전송까지 전체 파이프라인 테스트
  - 실제 데이터를 사용한 end-to-end 테스트
  - 정상 커밋과 동일한 결과 출력 검증
  - 장애 상황 시뮬레이션 및 복구 테스트
  - _Requirements: 7.1, 7.2_

- [x] 16. 최종 시스템 안정성 검증
  - 복구된 시스템의 성능 및 안정성 검증
  - 정상 커밋 대비 기능 완성도 확인
  - 오류 처리 및 복구 메커니즘 검증
  - 시스템 모니터링 및 알림 기능 검증
  - _Requirements: 7.3, 7.4_