# POSCO 시스템 복구 요구사항 문서

## 개요

최신 커밋 545293ffc4588c05eebefaed95a53398ec0a6aab에서 POSCO 시스템이 완전히 손상되어 본연의 기능이 모두 꼬인 상태입니다. 정상적으로 작동하던 커밋 a763ef84be08b5b1dab0c0ba20594b141baec7ab (수동으로 작업한 정상 버전)을 기준으로 전체 시스템을 재검토하고 복구해야 합니다.

## 요구사항

### 요구사항 1: 정상 커밋 기준 시스템 상태 분석

**사용자 스토리:** 개발자로서, 정상적으로 작동하던 커밋의 시스템 상태를 파악하여 현재 문제점을 명확히 식별하고 싶습니다.

#### 승인 기준
1. WHEN 정상 커밋 a763ef84be08b5b1dab0c0ba20594b141baec7ab을 체크아웃 THEN 시스템은 해당 시점의 파일 구조와 기능을 정확히 보여줘야 합니다
2. WHEN 정상 커밋의 웹훅 출력을 분석 THEN 시스템은 캡처 이미지에 표시된 정상적인 POSCO 뉴스, 워치햄스터, AI 분석 리포트 기능들이 올바르게 작동해야 합니다
3. WHEN 정상 커밋의 파일 개수와 구조를 확인 THEN 시스템은 1,743개의 깔끔한 파일 구조를 보여줘야 합니다 (현재 4,602개 대비 2,859개 과다 상태)
4. WHEN 정상 커밋의 실행 파일들을 검사 THEN 시스템은 Windows용(.bat)과 Mac용(.sh/.command) 파일들이 명확히 구분되어 있어야 합니다

### 요구사항 2: 현재 시스템 문제점 진단

**사용자 스토리:** 시스템 관리자로서, 현재 손상된 시스템의 구체적인 문제점들을 파악하여 복구 계획을 수립하고 싶습니다.

#### 승인 기준
1. WHEN 현재 커밋의 웹훅 기능을 테스트 THEN 시스템은 정상 커밋 대비 어떤 기능들이 손상되었는지 명확히 보고해야 합니다
2. WHEN 현재 폴더 구조를 분석 THEN 시스템은 불필요한 백업 폴더들과 중복 파일들을 식별해야 합니다
3. WHEN 현재 실행 파일들을 검사 THEN 시스템은 플랫폼별 구분이 제대로 되지 않은 파일들을 찾아내야 합니다
4. WHEN 현재 로직 흐름을 분석 THEN 시스템은 정상 커밋 대비 변경된 로직과 그로 인한 오류들을 식별해야 합니다

### 요구사항 3: 정상 커밋 기반 원본 로직 역추적 및 복원

**사용자 스토리:** 개발자로서, a763ef84 커밋에 있는 수동으로 작업한 원본 로직을 완전히 역추적하여 기초부터 모든 기능을 복원하고 싶습니다.

#### 승인 기준
1. WHEN a763ef84 커밋의 코드를 분석 THEN 시스템은 뉴스 수집, 데이터 처리, 웹훅 전송의 원본 로직을 완전히 파악해야 합니다
2. WHEN 원본 로직을 기반으로 복원 THEN 시스템은 캡처 이미지와 동일한 결과를 자연스럽게 생성하는 로직을 구현해야 합니다
3. WHEN 데이터 처리 흐름을 복원 THEN 시스템은 INFOMAX API 연동, 데이터 파싱, 상태 판단, 메시지 생성의 전체 파이프라인을 복원해야 합니다
4. WHEN 모니터링 로직을 복원 THEN 시스템은 프로세스 감시, 오류 감지, 자동 복구, 상태 보고의 워치햄스터 로직을 완전히 복원해야 합니다

### 요구사항 4: 캡처 기반 로직 검증 및 완벽 복원

**사용자 스토리:** 사용자로서, 제공된 캡처 이미지들을 통해 a763ef84 커밋의 원본 로직이 올바르게 복원되었는지 검증하고 싶습니다.

#### 승인 기준
1. WHEN 복원된 로직을 실행 THEN 시스템은 캡처 이미지와 동일한 형태의 웹훅 메시지를 자연스럽게 생성해야 합니다 (하드코딩 없이)
2. WHEN 각 BOT 기능을 테스트 THEN 시스템은 원본 로직에 따라 상황별로 적절한 BOT 타입과 메시지를 선택해야 합니다
3. WHEN 데이터 상태에 따른 메시지 변화를 확인 THEN 시스템은 실제 데이터 상태에 따라 "최신", "발행 전", "발행 지연" 등의 상태를 정확히 판단해야 합니다
4. WHEN 시간 기반 로직을 검증 THEN 시스템은 실시간 시간 정보와 데이터 수집 시간을 기반으로 적절한 메시지를 생성해야 합니다

### 요구사항 5: 파일 구조 정리 및 최적화

**사용자 스토리:** 개발자로서, 현재 혼란스러운 파일 구조를 정상 커밋 기준으로 정리하여 유지보수가 용이한 상태로 만들고 싶습니다.

#### 승인 기준
1. WHEN 불필요한 백업 폴더들을 정리 THEN 시스템은 .backup, .repair, .migration 등의 임시 폴더들을 제거하고 핵심 폴더만 유지해야 합니다
2. WHEN 중복 파일들을 정리 THEN 시스템은 동일한 기능의 여러 버전 파일들을 정상 커밋 기준으로 통합해야 합니다
3. WHEN 파일 개수를 최적화 THEN 시스템은 현재 4,602개에서 정상 커밋의 1,743개 수준으로 파일 개수를 대폭 줄여야 합니다 (2,859개 파일 제거)
4. WHEN 네이밍 컨벤션을 표준화 THEN 시스템은 일관된 한국어/영어 파일명 규칙을 적용해야 합니다

### 요구사항 6: 플랫폼별 실행 파일 재구성

**사용자 스토리:** 사용자로서, Windows와 Mac에서 각각 적절한 실행 파일을 사용하여 시스템을 구동하고 싶습니다.

#### 승인 기준
1. WHEN Windows 환경에서 시스템을 실행 THEN 시스템은 .bat 파일들만을 사용하여 모든 기능이 정상 작동해야 합니다
2. WHEN Mac 환경에서 시스템을 실행 THEN 시스템은 .sh/.command 파일들만을 사용하여 모든 기능이 정상 작동해야 합니다
3. WHEN 플랫폼별 실행 파일을 구분 THEN 시스템은 각 플랫폼에 맞는 명령어와 경로를 사용해야 합니다
4. WHEN 크로스 플랫폼 호환성을 검증 THEN 시스템은 양쪽 플랫폼에서 동일한 결과를 출력해야 합니다

### 요구사항 7: 시스템 안정성 검증

**사용자 스토리:** 시스템 관리자로서, 복구된 시스템이 안정적으로 작동하며 향후 유사한 문제가 발생하지 않도록 보장하고 싶습니다.

#### 승인 기준
1. WHEN 복구된 시스템의 전체 기능을 테스트 THEN 시스템은 정상 커밋과 동일한 수준의 성능과 안정성을 보여줘야 합니다
2. WHEN 웹훅 전송 기능을 검증 THEN 시스템은 캡처 이미지와 동일한 형태의 메시지를 Discord로 정확히 전송해야 합니다
3. WHEN 에러 처리 로직을 검증 THEN 시스템은 예외 상황에서도 적절한 오류 메시지와 복구 절차를 제공해야 합니다
4. WHEN 시스템 모니터링을 검증 THEN 시스템은 실시간으로 상태를 추적하고 문제 발생 시 즉시 알림을 제공해야 합니다