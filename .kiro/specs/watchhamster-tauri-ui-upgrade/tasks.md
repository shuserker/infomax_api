# WatchHamster Tauri UI 업그레이드 - 구현 계획

## 🚨 절대 규칙 (모든 작업 항목에 강제 적용)

**⚠️ 모든 작업 실행 시 다음 순서로 진행:**

### 1️⃣ 작업 시작 단계
- 🔧 **의존성 자동 설치 및 검증**: 필요한 패키지 설치, 버전 호환성 확인
- 🇰🇷 **한국어 응답**: 모든 상호작용을 한국어로 진행
- 📝 **작업 내용 구현**: 실제 코드/파일 작성 및 구현

### 2️⃣ 작업 완료 후 자동 실행 단계 (완료 처리 전 필수)

#### 🔍 1단계: 빼먹은 부분 체크 (자동 실행)
```
작업 완료 후 즉시 실행:
1. readFile 도구로 생성된 파일들 실제 내용 확인
2. 작업 요구사항과 실제 구현 내용 대조
3. 누락된 설정이나 코드 찾기
4. 발견 시 즉시 수정 후 재검증
```

#### 🔍 2단계: 내용 완성도 체크 (자동 실행)
```
1단계 완료 후 즉시 실행:
1. getDiagnostics 도구로 코드 품질 검토
2. 설정 파일 완전성 확인
3. 의존성 및 호환성 검증
4. 불완전한 부분 발견 시 즉시 보완
```

#### 🔍 3단계: 최종 확실성 검증 (자동 실행)
```
2단계 완료 후 즉시 실행:
1. 가능한 경우 executePwsh로 실제 테스트 실행
2. 빌드/실행 가능성 확인
3. 에러 로그 점검
4. 다음 작업 진행 가능성 확인
```

### 3️⃣ 완료 처리 단계
- ⛔ **완료 차단 메커니즘**: 품질 체크에서 문제 발견 시 절대 완료 처리 금지
- ✅ **완료 처리**: 모든 검증 통과 후에만 완료 처리

**🔥 이 규칙들은 사용자가 요청하지 않아도 모든 작업에 자동으로 강제 적용됩니다.**

---

## 구현 작업 목록

### Phase 1: 프로젝트 기반 구조 설정

- [x] 1. 프로젝트 구조 설정 및 초기화
  - Tauri 프로젝트 생성 및 기본 설정
  - React + TypeScript + Chakra UI 환경 구성
  - Python FastAPI 백엔드 프로젝트 구조 생성
  - 개발 환경 설정 및 빌드 스크립트 구성
  - _Requirements: 1.1, 1.2, 1.3_

### Phase 2: Python FastAPI 백엔드 서비스 구현

- [x] 2. Python FastAPI 백엔드 서비스 구현
  - [x] 2.1 FastAPI 서버 기본 구조 생성
    - FastAPI 애플리케이션 초기화 및 CORS 설정
    - 기본 라우터 구조 및 미들웨어 설정
    - 환경 설정 및 로깅 시스템 구성
    - _Requirements: 2.1, 2.5_

  - [x] 2.2 기존 Python 로직 포팅 및 서비스화
    - performance_optimizer, stability_manager, status_reporter 모듈 포팅
    - 기존 POSCO GUI 관리자 로직을 API 엔드포인트로 변환
    - 웹훅 시스템 및 메시지 템플릿 엔진 포팅
    - _Requirements: 2.2, 6.1, 6.2, 6.4, 6.5_

  - [x] 2.3 REST API 엔드포인트 구현
    - 서비스 관리 API (시작/중지/재시작) 구현
    - 시스템 메트릭 조회 API 구현
    - 웹훅 전송 및 템플릿 관리 API 구현
    - 로그 조회 및 스트리밍 API 구현
    - _Requirements: 2.4, 6.1, 6.4_

  - [x] 2.4 WebSocket 실시간 통신 구현
    - WebSocket 연결 관리 및 브로드캐스트 시스템 구현
    - 실시간 상태 업데이트 메시지 포맷 정의
    - 클라이언트 연결 상태 관리 및 자동 재연결 로직
    - _Requirements: 2.3, 5.1, 5.2_

  - [x] 2.5 백엔드 API 단위 테스트 작성
    - FastAPI 엔드포인트 테스트 케이스 작성
    - WebSocket 통신 테스트 구현
    - 기존 로직 포팅 검증 테스트 작성
    - _Requirements: 2.1, 2.2, 2.3, 2.4_

### Phase 3: Tauri 데스크톱 애플리케이션 구현

- [x] 3. Tauri 데스크톱 애플리케이션 구현
  - [x] 3.1 Tauri 백엔드 기본 구조 생성
    - Rust 프로젝트 초기화 및 Tauri 설정
    - 시스템 트레이 기능 구현
    - 창 관리 및 이벤트 처리 로직 구현
    - _Requirements: 3.1, 3.2, 3.3_

  - [x] 3.2 Python 백엔드 프로세스 관리 구현
    - Python 프로세스 시작/중지 명령어 구현
    - 프로세스 상태 모니터링 및 자동 복구 로직
    - 애플리케이션 종료 시 정리 작업 구현
    - _Requirements: 3.1, 3.4_

  - [x] 3.3 Tauri 명령어 인터페이스 구현
    - 시스템 정보 조회 명령어 구현
    - 웹훅 전송 명령어 구현
    - 파일 시스템 접근 명령어 구현
    - _Requirements: 3.1, 3.4_

  - [x] 3.4 Tauri 백엔드 단위 테스트 작성
    - Rust 명령어 함수 테스트 작성
    - Python 프로세스 관리 테스트 구현
    - 시스템 트레이 기능 테스트 작성
    - _Requirements: 3.1, 3.2, 3.3_

### Phase 4: React 프론트엔드 기본 구조 구현

- [x] 4. React 프론트엔드 기본 구조 구현
  - [x] 4.1 React 애플리케이션 초기화 및 라우팅 설정
    - React Router 설정 및 페이지 구조 정의
    - Chakra UI 테마 설정 및 커스터마이징
    - 전역 상태 관리 및 React Query 설정
    - _Requirements: 4.1, 4.5_

  - [x] 4.2 공통 컴포넌트 및 레이아웃 구현
    - 메인 레이아웃 컴포넌트 (사이드바, 헤더) 구현
    - 로딩 스피너, 에러 바운더리, 토스트 알림 구현
    - 모달, 확인 대화상자 등 공통 UI 컴포넌트 구현
    - _Requirements: 4.1, 4.4_

  - [x] 4.3 API 통신 서비스 레이어 구현
    - Axios 기반 HTTP 클라이언트 설정
    - API 엔드포인트 타입 정의 및 서비스 함수 구현
    - 에러 처리 및 재시도 로직 구현
    - _Requirements: 4.1, 5.5_

  - [x] 4.4 WebSocket 클라이언트 구현
    - WebSocket 연결 관리 커스텀 훅 구현
    - 실시간 메시지 처리 및 상태 업데이트 로직
    - 연결 끊김 감지 및 자동 재연결 구현
    - _Requirements: 5.1, 5.4_

  - [x] 4.5 프론트엔드 공통 컴포넌트 테스트 작성
    - React Testing Library를 사용한 컴포넌트 테스트
    - 커스텀 훅 테스트 구현
    - API 서비스 레이어 테스트 작성
    - _Requirements: 4.1, 4.2, 4.3, 4.4_

### Phase 5: 대시보드 페이지 구현

- [x] 5. 대시보드 페이지 구현
  - [x] 5.1 시스템 메트릭 카드 컴포넌트 구현
    - CPU, 메모리, 디스크, 네트워크 상태 표시 카드 구현
    - 실시간 데이터 업데이트 및 트렌드 표시 기능
    - 메트릭 임계값 경고 표시 기능
    - _Requirements: 4.1, 5.1, 7.2_

  - [x] 5.2 실시간 성능 차트 컴포넌트 구현
    - Recharts를 사용한 실시간 성능 그래프 구현
    - 시간대별 데이터 표시 및 확대/축소 기능
    - 차트 데이터 캐싱 및 성능 최적화
    - _Requirements: 4.1, 5.1, 7.3_

  - [x] 5.3 서비스 상태 그리드 컴포넌트 구현
    - 서비스별 상태 표시 그리드 구현
    - 서비스 상태 변경 실시간 반영
    - 빠른 서비스 제어 버튼 구현
    - _Requirements: 4.2, 5.2_

  - [x] 5.4 대시보드 컴포넌트 테스트 작성
    - 메트릭 카드 컴포넌트 테스트
    - 실시간 차트 컴포넌트 테스트
    - 서비스 상태 그리드 테스트
    - _Requirements: 5.1, 5.2_

### Phase 6: 서비스 관리 페이지 구현

- [x] 6. 서비스 관리 페이지 구현
  - [x] 6.1 서비스 카드 컴포넌트 구현
    - 개별 서비스 정보 표시 카드 구현
    - 서비스 상태 배지 및 업타임 표시
    - 서비스 설명 및 마지막 오류 정보 표시
    - _Requirements: 4.2, 6.1, 6.2_

  - [x] 6.2 서비스 제어 컴포넌트 구현
    - 시작/중지/재시작 버튼 구현
    - 서비스 제어 확인 대화상자 구현
    - 제어 작업 진행 상태 표시 및 결과 알림
    - _Requirements: 4.2, 5.3, 6.1_

  - [x] 6.3 POSCO 시스템 전용 관리 패널 구현
    - 브랜치 전환 상태 실시간 표시 구현
    - 배포 프로세스 제어 및 진행 상태 표시
    - Git 상태 확인 및 충돌 해결 인터페이스
    - _Requirements: 6.1, 6.6_

  - [x] 6.4 웹훅 및 메시지 관리 인터페이스 구현
    - 웹훅 전송 폼 및 템플릿 선택 구현
    - 메시지 미리보기 및 전송 결과 표시
    - 메시지 템플릿 편집 및 관리 기능
    - _Requirements: 6.4, 6.5_

  - [x] 6.5 서비스 관리 페이지 테스트 작성
    - 서비스 카드 컴포넌트 테스트
    - 서비스 제어 기능 테스트
    - POSCO 시스템 관리 패널 테스트
    - _Requirements: 6.1, 6.2, 6.3, 6.4_

### Phase 7: 로그 뷰어 페이지 구현

- [x] 7. 로그 뷰어 페이지 구현
  - [x] 7.1 가상화된 로그 표시 컴포넌트 구현
    - react-window를 사용한 대용량 로그 가상화 구현
    - 로그 레벨별 색상 구분 및 포맷팅
    - 로그 검색 및 필터링 기능 구현
    - _Requirements: 4.4, 7.3_

  - [x] 7.2 실시간 로그 스트리밍 구현
    - WebSocket을 통한 실시간 로그 수신
    - 자동 스크롤 및 수동 스크롤 모드 전환
    - 로그 버퍼 관리 및 메모리 최적화
    - _Requirements: 5.1, 7.3_

  - [x] 7.3 로그 내보내기 및 관리 기능 구현
    - 선택된 로그 범위 내보내기 기능
    - 로그 파일 다운로드 및 공유 기능
    - 로그 보관 정책 설정 인터페이스
    - _Requirements: 4.4_

  - [x] 7.4 로그 뷰어 테스트 작성
    - 가상화된 로그 표시 테스트
    - 실시간 스트리밍 테스트
    - 필터링 및 검색 기능 테스트
    - _Requirements: 7.1, 7.2, 7.3_

### Phase 8: 설정 페이지 구현

- [x] 8. 설정 페이지 구현




  - [x] 8.1 일반 설정 패널 구현


    - 애플리케이션 기본 설정 폼 구현
    - 자동 새로고침 간격 설정
    - 언어 선택 및 다국어 지원 구현
    - _Requirements: 4.5_

  - [x] 8.2 테마 설정 패널 구현


    - 라이트/다크 모드 전환 구현
    - POSCO 기업 테마 적용 옵션
    - 커스텀 색상 설정 인터페이스
    - _Requirements: 4.5_

  - [x] 8.3 알림 설정 패널 구현


    - 시스템 알림 활성화/비활성화 설정
    - 알림 유형별 우선순위 설정
    - 웹훅 설정 및 테스트 기능
    - _Requirements: 4.5, 6.4_

  - [x] 8.4 설정 페이지 테스트 작성


    - 설정 폼 컴포넌트 테스트
    - 테마 전환 기능 테스트
    - 설정 저장 및 로드 테스트
    - _Requirements: 8.1, 8.2, 8.3_

### Phase 9: 통합 테스트 및 최적화

- [x] 9. 통합 테스트 및 최적화





  - [x] 9.1 API 통합 테스트 구현


    - Python 백엔드와 React 프론트엔드 간 통신 테스트
    - WebSocket 실시간 통신 통합 테스트
    - 오류 시나리오 및 복구 테스트
    - _Requirements: 2.1, 2.3, 4.3, 4.4_

  - [x] 9.2 Tauri 통합 테스트 구현


    - Rust와 Python 간 프로세스 통신 테스트
    - 시스템 트레이 기능 통합 테스트
    - 애플리케이션 라이프사이클 테스트
    - _Requirements: 3.1, 3.2, 3.3_

  - [x] 9.3 성능 최적화 및 메모리 관리


    - React 컴포넌트 메모이제이션 최적화
    - API 호출 캐싱 및 디바운싱 적용
    - 메모리 누수 검사 및 수정
    - _Requirements: 7.1, 7.2, 7.4_

  - [x] 9.4 사용자 경험 개선


    - 로딩 상태 및 에러 상태 UI 개선
    - 접근성 (a11y) 기능 구현 및 검증
    - 반응형 디자인 최적화
    - _Requirements: 4.4, 7.2_

### Phase 10: 빌드 및 배포 설정

- [x] 10. 빌드 및 배포 설정




  - [x] 10.1 개발 환경 스크립트 구성


    - 개발 서버 동시 실행 스크립트 작성
    - 핫 리로드 및 디버깅 환경 설정
    - 개발용 환경 변수 및 설정 파일 구성
    - _Requirements: 1.1, 1.4_

  - [x] 10.2 프로덕션 빌드 설정


    - Tauri 빌드 설정 및 Python 바이너리 포함
    - 크로스 플랫폼 빌드 스크립트 작성
    - 빌드 최적화 및 번들 크기 최소화
    - _Requirements: 3.4, 8.1, 8.2, 8.4_

  - [x] 10.3 설치 패키지 생성 및 배포


    - Windows, macOS, Linux용 설치 패키지 생성
    - 자동 업데이트 시스템 구현
    - 배포 파이프라인 및 릴리스 프로세스 구성
    - _Requirements: 8.1, 8.2, 8.3, 8.4_

  - [x] 10.4 배포 테스트 및 검증


    - 각 플랫폼별 설치 및 실행 테스트
    - 업그레이드 시나리오 테스트
    - 성능 벤치마크 및 메모리 사용량 검증
    - _Requirements: 7.4, 8.1, 8.2, 8.3, 8.4_

### Phase 11: 문서화 및 마이그레이션 가이드

- [x] 11. 문서화 및 마이그레이션 가이드





  - [x] 11.1 API 문서 작성


    - FastAPI 자동 생성 문서 커스터마이징
    - WebSocket 메시지 포맷 문서화
    - Tauri 명령어 인터페이스 문서 작성
    - _Requirements: 2.1, 2.3, 3.1_

  - [x] 11.2 사용자 가이드 작성


    - 기존 Tkinter 버전에서 Tauri 버전으로 마이그레이션 가이드
    - 새로운 UI 기능 사용법 가이드
    - 문제 해결 및 FAQ 문서 작성
    - _Requirements: 1.3, 4.1_

  - [x] 11.3 개발자 문서 작성


    - 프로젝트 구조 및 아키텍처 문서
    - 개발 환경 설정 가이드
    - 기여 가이드 및 코딩 컨벤션 문서
    - _Requirements: 1.1, 1.2_