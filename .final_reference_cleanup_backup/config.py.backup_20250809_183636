#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Config
POSCO ì‹œìŠ¤í…œ êµ¬ì„±ìš”ì†Œ

WatchHamster v3.0 ë° POSCO News 250808 í˜¸í™˜
Created: 2025-08-08
"""

# ==========================================
# API ì—°ê²° ì„¤ì •
# ==========================================
API_CONFIG = {
    # POSCO ë‰´ìŠ¤ API ì—”ë“œí¬ì¸íŠ¸ URL
    "url": "https:/dev-global-api.einfomax.co.kr/apis/POSCO News 250808",
    
    # API ì¸ì¦ ì •ë³´
    "user": "infomax",
    "password": "infomax!",
    
    # ìš”ì²­ íƒ€ì„ì•„ì›ƒ (ì´ˆ) - ë„¤íŠ¸ì›Œí¬ ì§€ì—° ì‹œ ì¡°ì •
    "timeout": 10
}

# ==========================================
# Dooray ì›¹í›… ì„¤ì •
# ==========================================
# POSCO News 250808 ì•Œë¦¼ìš© ì›¹í›… (ë‰´ìŠ¤ ë³€ê²½ì‚¬í•­, ìƒíƒœ ì•Œë¦¼)
DOORAY_WEBHOOK_URL = "https:/infomax.dooray.com/services/3262462484277387103/4121380745073081229/5FbudzTwTki4wCeBszBrAg"

# WatchHamster v3.0 ì˜¤ë¥˜, ì—…ë°ì´íŠ¸ ì•Œë¦¼)
WATCHHAMSTER_WEBHOOK_URL = "https:/infomax.dooray.com/services/3262462484277387103/3281274580264701322/nKUfZnjtRS2rHh-E9i9uZQ"

# ë´‡ í”„ë¡œí•„ ì´ë¯¸ì§€ URL (POSCO ë¡œê³ )
# GitHub Raw URL ì‚¬ìš© - ë¡œê³  ë³€ê²½ ì‹œ ì´ URL ì—…ë°ì´íŠ¸
BOT_PROFILE_IMAGE_URL = "https:/raw.githubusercontent.com/shuserker/infomax_api/main/Monitoring/POSCO News 250808_mini/posco_logo_mini.jpg"

# ==========================================
# ë‰´ìŠ¤ ëª¨ë‹ˆí„°ë§ í†µí•© ì„¤ì •
# ==========================================
NEWS_MONITOR_CONFIG = {
    "newyork-market-watch": {
        "display_name": "ë‰´ìš•ë§ˆì¼“ì›Œì¹˜",
        "emoji": "ğŸŒ†",
        "expected_publish_time": "060000",  # 06:00:00
        "expected_time_range": {"start": "060000", "end": "070000"},  # 06:00-07:00
        "delay_check_times": ["073000", "080000", "083000"],  # 07:30, 08:00, 08:30
        "tolerance_minutes": 60,  # 1ì‹œê°„ í—ˆìš© ë²”ìœ„
        "time_format": "5digit",  # íŠ¹ìˆ˜ 5ìë¦¬ í˜•ì‹ (61831)
        "intensive_monitoring": {
            "start_time": "060000",
            "end_time": "080000",
            "interval_seconds": 60
        },
        "delay_messages": {
            1: "30ë¶„ ì§€ì—° ìƒíƒœì…ë‹ˆë‹¤./nâ€¢ ë‰´ìš• ì‹œì¥ ìƒí™©ì— ë”°ë¥¸ ì§€ì—°ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
            2: "1ì‹œê°„ ì§€ì—° ìƒíƒœì…ë‹ˆë‹¤./nâ€¢ ì£¼ì˜ê°€ í•„ìš”í•œ ì§€ì—°ì…ë‹ˆë‹¤.",
            3: "1ì‹œê°„ 30ë¶„ ì´ìƒ ì§€ì—° ìƒíƒœì…ë‹ˆë‹¤./nâ€¢ ì‹¬ê°í•œ ì§€ì—°ìœ¼ë¡œ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."
        }
    },
    "kospi-close": {
        "display_name": "ì¦ì‹œë§ˆê°",
        "emoji": "ğŸ“ˆ",
        "expected_publish_time": "154000",  # 15:40:00
        "expected_time_range": {"start": "153000", "end": "155000"},  # 15:30-15:50
        "delay_check_times": ["160000", "163000", "170000"],  # 16:00, 16:30, 17:00
        "tolerance_minutes": 10,  # Â±10ë¶„ í—ˆìš©
        "time_format": "6digit",  # í‘œì¤€ 6ìë¦¬ í˜•ì‹ (154000)
        "intensive_monitoring": {
            "start_time": "153000",
            "end_time": "173000",
            "interval_seconds": 60
        },
        "delay_messages": {
            1: "20ë¶„ ì§€ì—° ìƒíƒœì…ë‹ˆë‹¤./nâ€¢ ì¦ì‹œë§ˆê° ì¼ë°˜ì ì¸ ì§€ì—° ë²”ìœ„ì…ë‹ˆë‹¤.",
            2: "50ë¶„ ì§€ì—° ìƒíƒœì…ë‹ˆë‹¤./nâ€¢ ì£¼ì˜ê°€ í•„ìš”í•œ ì§€ì—°ì…ë‹ˆë‹¤.",
            3: "1ì‹œê°„ 20ë¶„ ì´ìƒ ì§€ì—° ìƒíƒœì…ë‹ˆë‹¤./nâ€¢ ì‹¬ê°í•œ ì§€ì—°ìœ¼ë¡œ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."
        }
    },
    "exchange-rate": {
        "display_name": "ì„œí™˜ë§ˆê°",
        "emoji": "ğŸ’±",
        "expected_publish_time": "163000",  # 16:30:00
        "expected_time_range": {"start": "162500", "end": "163500"},  # 16:25-16:35
        "delay_check_times": ["170000", "173000", "180000"],  # 17:00, 17:30, 18:00
        "tolerance_minutes": 5,  # Â±5ë¶„ í—ˆìš©
        "time_format": "6digit",  # í‘œì¤€ 6ìë¦¬ í˜•ì‹ (163000)
        "intensive_monitoring": {
            "start_time": "160000",
            "end_time": "183000",
            "interval_seconds": 60
        },
        "delay_messages": {
            1: "30ë¶„ ì§€ì—° ìƒíƒœì…ë‹ˆë‹¤./nâ€¢ ì¼ë°˜ì ì¸ ì§€ì—° ë²”ìœ„ ë‚´ì…ë‹ˆë‹¤.",
            2: "1ì‹œê°„ ì§€ì—° ìƒíƒœì…ë‹ˆë‹¤./nâ€¢ ì£¼ì˜ê°€ í•„ìš”í•œ ì§€ì—°ì…ë‹ˆë‹¤.",
            3: "1ì‹œê°„ 30ë¶„ ì´ìƒ ì§€ì—° ìƒíƒœì…ë‹ˆë‹¤./nâ€¢ ì‹¬ê°í•œ ì§€ì—°ìœ¼ë¡œ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."
        }
    }
}

# ==========================================
# ë§ˆìŠ¤í„° ëª¨ë‹ˆí„°ë§ ì‹œê°„ëŒ€ë³„ ì „ëµ ì„¤ì •
# ==========================================
MASTER_MONITORING_STRATEGY = {
    "newyork_intensive": {
        "time_range": {"start": "060000", "end": "080000"},
        "interval": 60,
        "description": "ë‰´ìš•ë§ˆì¼“ì›Œì¹˜ ì§‘ì¤‘ ëª¨ë‹ˆí„°ë§",
        "targets": ["newyork-market-watch"]
    },
    "kospi_intensive": {
        "time_range": {"start": "153000", "end": "160000"},
        "interval": 60,
        "description": "ì¦ì‹œë§ˆê° ì§‘ì¤‘ ëª¨ë‹ˆí„°ë§",
        "targets": ["kospi-close"]
    },
    "dual_intensive": {
        "time_range": {"start": "160000", "end": "170000"},
        "interval": 60,
        "description": "ì´ì¤‘ ì§‘ì¤‘ ëª¨ë‹ˆí„°ë§ (ì¦ì‹œë§ˆê° ì§€ì—° + ì„œí™˜ë§ˆê° ì •ì‹œ)",
        "targets": ["kospi-close", "exchange-rate"]
    },
    "exchange_intensive": {
        "time_range": {"start": "170000", "end": "183000"},
        "interval": 60,
        "description": "ì„œí™˜ë§ˆê° ì§‘ì¤‘ ëª¨ë‹ˆí„°ë§",
        "targets": ["exchange-rate"]
    },
    "normal": {
        "interval": 300,
        "description": "ì¼ë°˜ ëª¨ë‹ˆí„°ë§",
        "targets": ["newyork-market-watch", "kospi-close", "exchange-rate"]
    },
    "weekend": {
        "interval": 1800,
        "description": "ì£¼ë§ ëª¨ë“œ (ìµœì†Œ ëª¨ë‹ˆí„°ë§)",
        "targets": []
    }
}

# ==========================================
# ëª¨ë‹ˆí„°ë§ ë™ì‘ ì„¤ì •
# ==========================================
MONITORING_CONFIG = {
    # ê¸°ë³¸ ëª¨ë‹ˆí„°ë§ ê°„ê²© (ë¶„) - run_monitor.py 4ë²ˆ ì˜µì…˜ì—ì„œ ì‚¬ìš©
    "default_interval_minutes": 60,
    
    # ì§ì „ ë°ì´í„° ê²€ìƒ‰ ìµœëŒ€ ì¼ìˆ˜ - ì˜ì—…ì¼ ë¹„êµ ì‹œ ê³¼ê±° ë°ì´í„° ê²€ìƒ‰ ë²”ìœ„
    "max_retry_days": 10,
    
    # ìºì‹œ íŒŒì¼ëª… - ë‰´ìŠ¤ ë°ì´í„° ìºì‹±ìš©
# BROKEN_REF:     "cache_file": "POSCO News 250808_cache.json"
}

# ==========================================
# ìƒíƒœ í‘œì‹œ ì„¤ì •
# ==========================================
STATUS_CONFIG = {
    # ìƒíƒœ íŒë‹¨ ëª¨ë“œ
    # "strict": ì—„ê²© ëª¨ë“œ (ëª¨ë“  ë‰´ìŠ¤ê°€ ì˜¤ëŠ˜ ë°œí–‰ë˜ì–´ì•¼ ìµœì‹ )
    # "lenient": ê´€ëŒ€ ëª¨ë“œ (ì¼ë¶€ ë‰´ìŠ¤ë§Œ ì˜¤ëŠ˜ ë°œí–‰ë˜ì–´ë„ ìµœì‹ )
    "display_mode": "strict",
    
    # ìƒíƒœë³„ ìƒ‰ìƒ ë° ì´ëª¨ì§€
    "colors": {
        "all_latest": "ğŸŸ¢",    # ëª¨ë“  ë°ì´í„°ê°€ ìµœì‹  (ì˜¤ëŠ˜ ë°œí–‰)
        "partial_latest": "ğŸŸ¡", # ì¼ë¶€ë§Œ ìµœì‹  (ì¼ë¶€ ì˜¤ëŠ˜ ë°œí–‰)
        "all_old": "ğŸ”´"        # ëª¨ë“  ë°ì´í„°ê°€ ê³¼ê±° (ì˜¤ëŠ˜ ë¯¸ë°œí–‰)
    }
}

# ==========================================
# ë‰´ìŠ¤ íƒ€ì…ë³„ ì„¤ì •
# ==========================================
NEWS_TYPES = {
    # ë‰´ìš• ì‹œì¥ ë™í–¥ ë‰´ìŠ¤ (1ìˆœìœ„)
    "newyork-market-watch": {
        "display_name": "NEWYORK MARKET WATCH", 
        "emoji": "ğŸŒ†",
        "publish_days": [0, 1, 2, 3, 4, 5]     # ë°œí–‰ ìš”ì¼ (ì›”-í† )
    },
    
    # ì½”ìŠ¤í”¼ ë§ˆê° ë‰´ìŠ¤ (2ìˆœìœ„)
    "kospi-close": {
        "display_name": "KOSPI CLOSE",
        "emoji": "ğŸ“ˆ",
        "publish_days": [0, 1, 2, 3, 4]        # ë°œí–‰ ìš”ì¼ (ì›”-ê¸ˆ)
    },
    
    # í™˜ìœ¨ ê´€ë ¨ ë‰´ìŠ¤ (3ìˆœìœ„)
    "exchange-rate": {
        "display_name": "EXCHANGE RATE",        # ì•Œë¦¼ì— í‘œì‹œë  ì´ë¦„
        "emoji": "ğŸ’±",                          # ë‰´ìŠ¤ íƒ€ì… ì´ëª¨ì§€
        "publish_days": [0, 1, 2, 3, 4]        # ë°œí–‰ ìš”ì¼ (ì›”-ê¸ˆ)
    }
}

# ìš”ì¼ ì½”ë“œ ì°¸ì¡°:
#_0 = ì›”ìš”ì¼, 1=í™”ìš”ì¼, 2=ìˆ˜ìš”ì¼, 3=ëª©ìš”ì¼, 4=ê¸ˆìš”ì¼, 5=í† ìš”ì¼, 6=ì¼ìš”ì¼