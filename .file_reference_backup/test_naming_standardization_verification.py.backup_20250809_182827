#!/usr/bin/env python3
"""
POSCO ë„¤ì´ë° í‘œì¤€í™” ê²€ì¦ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
WatchHamster v3.0 & POSCO News 250808 í˜¸í™˜

ë„¤ì´ë° í‘œì¤€í™” ê²€ì¦ ì‹œìŠ¤í…œì˜ ëª¨ë“  ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸
"""

# BROKEN_REF: import unittest
# BROKEN_REF: import tempfile
import posco_news_250808_monitor.log
import test_config.json
# BROKEN_REF: import shutil
# BROKEN_REF: from pathlib import Path
# BROKEN_REF: from naming_standardization_verification_system.py import (
    NamingStandardizationVerifier, 
    VerificationResult
)

class TestNamingStandardizationVerifier(unittest.TestCase):
    """ë„¤ì´ë° í‘œì¤€í™” ê²€ì¦ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸"""
    
    def setUp(self):
        """í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •"""
        self.verifier = NamingStandardizationVerifier()
        self.test_dir = tempfile.mkdtemp()
        self.original_cwd = os.getcwd()
        os.chdir(self.test_dir)
        
        # í…ŒìŠ¤íŠ¸ìš© íŒŒì¼ êµ¬ì¡° ìƒì„±
        self._create_test_files()
    
    def tearDown(self):
        """í…ŒìŠ¤íŠ¸ í™˜ê²½ ì •ë¦¬"""
        os.chdir(self.original_cwd)
shutil.rmtree(self.test_dir,_ignore_errors = True)
    
    def _create_test_files(self):
        """í…ŒìŠ¤íŠ¸ìš© íŒŒì¼ë“¤ ìƒì„±"""
        # ì›Œì¹˜í–„ìŠ¤í„° ê´€ë ¨ íŒŒì¼ë“¤
        self._create_file("WatchHamster_v3.0.log", '''
"""
WatchHamster v3.0 Monitor
ì›Œì¹˜í–„ìŠ¤í„° v3.0 ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ
"""

class WatchHamsterV30Monitor:
    def __init__(self):
        self.watchhamster_version = "v3.0"
        self.system_name = "WatchHamster v3.0"
    
    def start_monitoring(self):
        # WatchHamster v3.0 ëª¨ë‹ˆí„°ë§ ì‹œì‘
        pass
''')
        
        # êµ¬ë²„ì „ ì›Œì¹˜í–„ìŠ¤í„° íŒŒì¼ (ì‹¤íŒ¨ ì¼€ì´ìŠ¤)
        self._create_file(".naming_backup/config_data_backup/watchhamster.log", '''
"""
WatchHamster v2.0 Old System
ì›Œì¹˜í–„ìŠ¤í„° v2.0 êµ¬ë²„ì „ ì‹œìŠ¤í…œ
"""

class WatchHamsterV2Monitor:
    def __init__(self):
        self.watchhamster_version = "v2.0"
        self.system_name = "WatchHamster v2.0"
''')
        
        # í¬ìŠ¤ì½” ë‰´ìŠ¤ ê´€ë ¨ íŒŒì¼ë“¤
        self._create_file("POSCO_News_250808.py", '''
"""
POSCO News 250808 Notifier
í¬ìŠ¤ì½” ë‰´ìŠ¤ 250808 ì•Œë¦¼ ì‹œìŠ¤í…œ
"""

class PoscoNews250808Notifier:
    def __init__(self):
        self.posco_news_version = "250808"
        self.system_name = "POSCO News 250808"
''')
        
        # êµ¬ë²„ì „ í¬ìŠ¤ì½” ë‰´ìŠ¤ íŒŒì¼ (ì‹¤íŒ¨ ì¼€ì´ìŠ¤)
        self._create_file("Posco_News_mini", '''
"""
POSCO News Mini System
í¬ìŠ¤ì½” ë‰´ìŠ¤ ë¯¸ë‹ˆ ì‹œìŠ¤í…œ
"""

class PoscoNewsMini:
    def __init__(self):
        self.posco_news_version = "mini"
''')
        
        # ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œë“¤
        self._create_file("WatchHamster_v3.0.log", '''
# WatchHamster v3.0 ì‚¬ìš©ì ê°€ì´ë“œ

ì´ ë¬¸ì„œëŠ” WatchHamster v3.0 ì‹œìŠ¤í…œì˜ ì‚¬ìš©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ê°œìš”
WatchHamster v3.0ì€ ìµœì‹  ë²„ì „ì˜ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
''')
        
        # êµ¬ë²„ì „ ë¬¸ì„œ (ì‹¤íŒ¨ ì¼€ì´ìŠ¤)
        self._create_file(".naming_backup/config_data_backup/watchhamster.log", '''
# ì›Œì¹˜í–„ìŠ¤í„° v2.0 êµ¬ë²„ì „ ê°€ì´ë“œ

ì´ ë¬¸ì„œëŠ” ì›Œì¹˜í–„ìŠ¤í„° v2.0 ì‹œìŠ¤í…œì„ ì„¤ëª…í•©ë‹ˆë‹¤.
''')
        
        # JSON ì„¤ì • íŒŒì¼ë“¤
        self._create_file(".git/config", json.dumps({
            "system_info": {
                "watchhamster_version": "v3.0",
                "posco_news_version": "250808",
                "last_updated": "2025-08-08"
            },
            "modules": [
                {
                    "name": "WatchHamster v3.0 Monitor",
                    "version": "v3.0"
                }
            ]
},_indent = 2))
        
        # êµ¬ë²„ì „ ì„¤ì • íŒŒì¼ (ì‹¤íŒ¨ ì¼€ì´ìŠ¤)
        self._create_file(".git/config", json.dumps({
            "system_info": {
                "watchhamster_version": "v2.0",
                "posco_news_version": "mini"
            }
},_indent = 2))
        
        # Shell ìŠ¤í¬ë¦½íŠ¸ë“¤
        self._create_file("WatchHamster_v3.0.log", '''#!/bin/bash
# WatchHamster v3.0 Control Script
# ì›Œì¹˜í–„ìŠ¤í„° v3.0 ì œì–´ ìŠ¤í¬ë¦½íŠ¸

WATCHHAMSTER_VERSION="v3.0"
SYSTEM_NAME="WatchHamster v3.0"

echo "Starting WatchHamster v3.0..."
''')
        
        # êµ¬ë²„ì „ ìŠ¤í¬ë¦½íŠ¸ (ì‹¤íŒ¨ ì¼€ì´ìŠ¤)
        self._create_file(".naming_backup/config_data_backup/watchhamster.log", '''#!/bin/bash
# WatchHamster v2.0 Old Script

WATCHHAMSTER_VERSION="v2.0"
echo "Starting WatchHamster v2.0..."
''')
    
    def _create_file(self, filename: str, content: str):
        """í…ŒìŠ¤íŠ¸ íŒŒì¼ ìƒì„±"""
        file_path = Path(self.test_dir) / filename
        file_path.parent.mkdir(parents=True, exist_ok=True)
with_open(file_path,_'w',_encoding = 'utf-8') as f:
            f.write(content)
    
    def test_filename_verification_pass(self):
        """íŒŒì¼ëª… ê²€ì¦ - í†µê³¼ ì¼€ì´ìŠ¤"""
        results = self.verifier.verify_filename_standards()
        
        # ì˜¬ë°”ë¥¸ íŒŒì¼ëª…ë“¤ì´ í†µê³¼í•˜ëŠ”ì§€ í™•ì¸
        pass_results = [r for r in results if r.status == 'pass']
        self.assertGreater(len(pass_results), 0, "ì˜¬ë°”ë¥¸ íŒŒì¼ëª…ì´ í†µê³¼í•´ì•¼ í•©ë‹ˆë‹¤")
        
        # WatchHamster v3.0 íŒŒì¼ í™•ì¸
        watchhamster_pass = [r for r in pass_results if 'WatchHamster_v3.0' in r.file_path]
        self.assertGreater(len(watchhamster_pass), 0, "WatchHamster v3.0 íŒŒì¼ì´ í†µê³¼í•´ì•¼ í•©ë‹ˆë‹¤")
        
        # POSCO News 250808 íŒŒì¼ í™•ì¸
        posco_pass = [r for r in pass_results if '250808' in r.file_path]
        self.assertGreater(len(posco_pass), 0, "POSCO News 250808 íŒŒì¼ì´ í†µê³¼í•´ì•¼ í•©ë‹ˆë‹¤")
    
    def test_filename_verification_fail(self):
        """íŒŒì¼ëª… ê²€ì¦ - ì‹¤íŒ¨ ì¼€ì´ìŠ¤"""
        results = self.verifier.verify_filename_standards()
        
        # êµ¬ë²„ì „ íŒŒì¼ë“¤ì´ ì‹¤íŒ¨í•˜ëŠ”ì§€ í™•ì¸
        fail_results = [r for r in results if r.status == 'fail']
        self.assertGreater(len(fail_results), 0, "êµ¬ë²„ì „ íŒŒì¼ëª…ì´ ì‹¤íŒ¨í•´ì•¼ í•©ë‹ˆë‹¤")
        
        # v2.0 íŒŒì¼ í™•ì¸
        v2_fails = [r for r in fail_results if 'v2' in r.file_path.lower()]
        self.assertGreater(len(v2_fails), 0, "v2.0 íŒŒì¼ì´ ì‹¤íŒ¨í•´ì•¼ í•©ë‹ˆë‹¤")
        
        # mini íŒŒì¼ í™•ì¸
        mini_fails = [r for r in fail_results if 'mini' in r.file_path.lower()]
        self.assertGreater(len(mini_fails), 0, "mini íŒŒì¼ì´ ì‹¤íŒ¨í•´ì•¼ í•©ë‹ˆë‹¤")
    
    def test_code_naming_verification(self):
        """ì½”ë“œ ë‚´ë¶€ ë„¤ì´ë° ê²€ì¦"""
        results = self.verifier.verify_code_naming_standards()
        
        # ê²°ê³¼ê°€ ìˆëŠ”ì§€ í™•ì¸
        self.assertGreater(len(results), 0, "ì½”ë“œ ë„¤ì´ë° ê²€ì¦ ê²°ê³¼ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤")
        
        # í†µê³¼ ì¼€ì´ìŠ¤ í™•ì¸
        pass_results = [r for r in results if r.status == 'pass']
        self.assertGreater(len(pass_results), 0, "ì˜¬ë°”ë¥¸ ì½”ë“œ ë„¤ì´ë°ì´ í†µê³¼í•´ì•¼ í•©ë‹ˆë‹¤")
        
        # ì‹¤íŒ¨ ì¼€ì´ìŠ¤ í™•ì¸
        fail_results = [r for r in results if r.status == 'fail']
        self.assertGreater(len(fail_results), 0, "êµ¬ë²„ì „ ì½”ë“œ ë„¤ì´ë°ì´ ì‹¤íŒ¨í•´ì•¼ í•©ë‹ˆë‹¤")
    
    def test_document_verification(self):
        """ë¬¸ì„œ í‘œì¤€í™” ê²€ì¦"""
        results = self.verifier.verify_document_standards()
        
        # ê²°ê³¼ê°€ ìˆëŠ”ì§€ í™•ì¸
        self.assertGreater(len(results), 0, "ë¬¸ì„œ ê²€ì¦ ê²°ê³¼ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤")
        
        # ì˜¬ë°”ë¥¸ ë¬¸ì„œ ì œëª© í†µê³¼ í™•ì¸
        pass_results = [r for r in results if r.status == 'pass']
        v3_pass = [r for r in pass_results if 'v3.0' in r.actual]
        self.assertGreater(len(v3_pass), 0, "v3.0 ë¬¸ì„œê°€ í†µê³¼í•´ì•¼ í•©ë‹ˆë‹¤")
        
        # êµ¬ë²„ì „ ë¬¸ì„œ ì‹¤íŒ¨ í™•ì¸
        fail_results = [r for r in results if r.status == 'fail']
        v2_fail = [r for r in fail_results if 'v2' in r.actual.lower()]
        self.assertGreater(len(v2_fail), 0, "v2.0 ë¬¸ì„œê°€ ì‹¤íŒ¨í•´ì•¼ í•©ë‹ˆë‹¤")
    
    def test_configuration_verification(self):
        """ì„¤ì • íŒŒì¼ ê²€ì¦"""
        results = self.verifier.verify_configuration_standards()
        
        # ê²°ê³¼ê°€ ìˆëŠ”ì§€ í™•ì¸
        self.assertGreater(len(results), 0, "ì„¤ì • íŒŒì¼ ê²€ì¦ ê²°ê³¼ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤")
        
        # ì˜¬ë°”ë¥¸ ì„¤ì • í†µê³¼ í™•ì¸
        pass_results = [r for r in results if r.status == 'pass']
        self.assertGreater(len(pass_results), 0, "ì˜¬ë°”ë¥¸ ì„¤ì •ì´ í†µê³¼í•´ì•¼ í•©ë‹ˆë‹¤")
        
        # êµ¬ë²„ì „ ì„¤ì • ì‹¤íŒ¨ í™•ì¸
        fail_results = [r for r in results if r.status == 'fail']
        self.assertGreater(len(fail_results), 0, "êµ¬ë²„ì „ ì„¤ì •ì´ ì‹¤íŒ¨í•´ì•¼ í•©ë‹ˆë‹¤")
    
    def test_full_verification(self):
        """ì „ì²´ ê²€ì¦ ì‹¤í–‰"""
        verification_data = self.verifier.run_full_verification()
        
        # ê¸°ë³¸ êµ¬ì¡° í™•ì¸
        self.assertIn('timestamp', verification_data)
        self.assertIn('total_checks', verification_data)
        self.assertIn('statistics', verification_data)
        self.assertIn('results', verification_data)
        self.assertIn('summary', verification_data)
        
        # í†µê³„ í™•ì¸
        stats = verification_data['statistics']
        self.assertIn('pass', stats)
        self.assertIn('fail', stats)
        self.assertIn('warning', stats)
        
        # ì´ ê²€ì¦ ìˆ˜ê°€ ë§ëŠ”ì§€ í™•ì¸
        total_from_stats = stats['pass'] + stats['fail'] + stats['warning']
        self.assertEqual(verification_data['total_checks'], total_from_stats)
        
        # ìš”ì•½ ì •ë³´ í™•ì¸
        summary = verification_data['summary']
        self.assertIn('overall_score', summary)
        self.assertIn('compliance_rate', summary)
        self.assertIn('category_breakdown', summary)
        self.assertIn('recommendations', summary)
    
    def test_report_generation(self):
        """ë³´ê³ ì„œ ìƒì„± í…ŒìŠ¤íŠ¸"""
        # ë¨¼ì € ê²€ì¦ ì‹¤í–‰
        self.verifier.run_full_verification()
        
        # ë³´ê³ ì„œ ìƒì„±
        report_file = self.verifier.generate_report("test_report.html")
        
        # íŒŒì¼ì´ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸
        self.assertTrue(os.path.exists(report_file), "ë³´ê³ ì„œ íŒŒì¼ì´ ìƒì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤")
        self.assertTrue(os.path.exists("final_integration_final_integration_test_report.json"), "JSON ê²°ê³¼ íŒŒì¼ì´ ìƒì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤")
        
        # HTML ë‚´ìš© í™•ì¸
with_open(report_file,_'r',_encoding = 'utf-8') as f:
            html_content = f.read()
        
        self.assertIn("POSCO ë„¤ì´ë° í‘œì¤€í™” ê²€ì¦ ë³´ê³ ì„œ", html_content)
        self.assertIn("WatchHamster v3.0", html_content)
        self.assertIn("POSCO News 250808", html_content)
        
        # JSON ë‚´ìš© í™•ì¸
with_open("final_integration_final_integration_final_integration_test_report.json",_'r',_encoding = 'utf-8') as f:
            json_data = json.load(f)
        
        self.assertIn('statistics', json_data)
        self.assertIn('results', json_data)
    
    def test_exclude_patterns(self):
        """ì œì™¸ íŒ¨í„´ í…ŒìŠ¤íŠ¸"""
        # ì œì™¸ë˜ì–´ì•¼ í•  íŒŒì¼ë“¤ ìƒì„±
        self._create_file(".git/config", "git config")
        self._create_file("__pycache__/test.pyc", "compiled python")
# BROKEN_REF:         self._create_file("backup/old_file.py", "backup file")
        
        # íŒŒì¼ëª… ê²€ì¦ ì‹¤í–‰
        results = self.verifier.verify_filename_standards()
        
        # ì œì™¸ëœ íŒŒì¼ë“¤ì´ ê²°ê³¼ì— ì—†ëŠ”ì§€ í™•ì¸
        excluded_files = [r.file_path for r in results if '.git' in r.file_path or '__pycache__' in r.file_path or 'backup' in r.file_path]
        self.assertEqual(len(excluded_files), 0, "ì œì™¸ íŒ¨í„´ íŒŒì¼ë“¤ì´ ê²€ì¦ì—ì„œ ì œì™¸ë˜ì–´ì•¼ í•©ë‹ˆë‹¤")
    
    def test_verification_result_structure(self):
        """ê²€ì¦ ê²°ê³¼ êµ¬ì¡° í…ŒìŠ¤íŠ¸"""
        results = self.verifier.verify_filename_standards()
        
        if results:
            result = results[0]
            
            # í•„ìˆ˜ í•„ë“œ í™•ì¸
            self.assertTrue(hasattr(result, 'file_path'))
            self.assertTrue(hasattr(result, 'rule_type'))
            self.assertTrue(hasattr(result, 'status'))
            self.assertTrue(hasattr(result, 'expected'))
            self.assertTrue(hasattr(result, 'actual'))
            self.assertTrue(hasattr(result, 'message'))
            self.assertTrue(hasattr(result, 'timestamp'))
            
            # ìƒíƒœ ê°’ í™•ì¸
            self.assertIn(result.status, ['pass', 'fail', 'warning'])
    
    def test_statistics_calculation(self):
        """í†µê³„ ê³„ì‚° í…ŒìŠ¤íŠ¸"""
        # í…ŒìŠ¤íŠ¸ìš© ê²°ê³¼ ìƒì„±
        test_results = [
# BROKEN_REF:             VerificationResult("file1.py", "filename", "pass", "expected", "actual", "message"),
# BROKEN_REF:             VerificationResult("file2.py", "filename", "fail", "expected", "actual", "message"),
# BROKEN_REF:             VerificationResult("file3.py", "code_naming", "warning", "expected", "actual", "message"),
# BROKEN_REF:             VerificationResult("file4.py", "code_naming", "pass", "expected", "actual", "message"),
        ]
        
        stats = self.verifier._calculate_statistics(test_results)
        
        self.assertEqual(stats['pass'], 2)
        self.assertEqual(stats['fail'], 1)
        self.assertEqual(stats['warning'], 1)
    
    def test_top_issues_identification(self):
        """ì£¼ìš” ë¬¸ì œì  ì‹ë³„ í…ŒìŠ¤íŠ¸"""
        # ì¤‘ë³µ ë¬¸ì œê°€ ìˆëŠ” í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìƒì„±
        test_results = [
# BROKEN_REF:             VerificationResult("file1.py", "filename", "fail", "expected", "actual", "êµ¬ë²„ì „ ë°œê²¬"),
# BROKEN_REF:             VerificationResult("file2.py", "filename", "fail", "expected", "actual", "êµ¬ë²„ì „ ë°œê²¬"),
# BROKEN_REF:             VerificationResult("file3.py", "code_naming", "fail", "expected", "actual", "ë‹¤ë¥¸ ë¬¸ì œ"),
        ]
        
        top_issues = self.verifier._get_top_issues(test_results)
        
        self.assertGreater(len(top_issues), 0)
        self.assertEqual(top_issues[0]['count'], 2)  # ê°€ì¥ ë§ì´ ë°œìƒí•œ ë¬¸ì œ
    
    def test_recommendations_generation(self):
        """ê¶Œì¥ì‚¬í•­ ìƒì„± í…ŒìŠ¤íŠ¸"""
        # ë‹¤ì–‘í•œ ìœ í˜•ì˜ ë¬¸ì œê°€ ìˆëŠ” í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìƒì„±
        critical_issues = [
# BROKEN_REF:             VerificationResult("file1.py", "filename", "fail", "expected", "actual", "íŒŒì¼ëª… ë¬¸ì œ"),
# BROKEN_REF:             VerificationResult("file2.py", "code_naming", "fail", "expected", "actual", "ì½”ë“œ ë„¤ì´ë° ë¬¸ì œ"),
# BROKEN_REF:             VerificationResult("file3.md", "document", "fail", "expected", "actual", "ë¬¸ì„œ ë¬¸ì œ"),
        ]
        
        warnings = [
# BROKEN_REF:             VerificationResult("file4.py", "filename", "warning", "expected", "actual", "ê²½ê³ "),
        ]
        
        recommendations = self.verifier._generate_recommendations(critical_issues, warnings)
        
        self.assertGreater(len(recommendations), 0)
        self.assertTrue(any("íŒŒì¼ëª… í‘œì¤€í™”" in rec for rec in recommendations))
        self.assertTrue(any("ì½”ë“œ ë„¤ì´ë° í‘œì¤€í™”" in rec for rec in recommendations))
        self.assertTrue(any("ë¬¸ì„œ í‘œì¤€í™”" in rec for rec in recommendations))

class TestIntegration(unittest.TestCase):
    """í†µí•© í…ŒìŠ¤íŠ¸"""
    
    def test_real_project_structure(self):
        """ì‹¤ì œ í”„ë¡œì íŠ¸ êµ¬ì¡°ì—ì„œì˜ ê²€ì¦ í…ŒìŠ¤íŠ¸"""
        verifier = NamingStandardizationVerifier()
        
        # ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ê²€ì¦ ì‹¤í–‰ (ì—ëŸ¬ ì—†ì´ ì™„ë£Œë˜ëŠ”ì§€ í™•ì¸)
        try:
            verification_data = verifier.run_full_verification()
            
            # ê¸°ë³¸ êµ¬ì¡°ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
            self.assertIsInstance(verification_data, dict)
            self.assertIn('total_checks', verification_data)
            self.assertIn('statistics', verification_data)
            
            print(f"âœ… ì‹¤ì œ í”„ë¡œì íŠ¸ ê²€ì¦ ì™„ë£Œ: {verification_data['total_checks']}ê°œ í•­ëª©")
            print(f"   í†µê³¼: {verification_data['statistics']['pass']}")
            print(f"   ì‹¤íŒ¨: {verification_data['statistics']['fail']}")
            print(f"   ê²½ê³ : {verification_data['statistics']['warning']}")
            
        except Exception as e:
            self.fail(f"ì‹¤ì œ í”„ë¡œì íŠ¸ ê²€ì¦ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}")

def run_verification_tests():
    """ê²€ì¦ í…ŒìŠ¤íŠ¸ ì‹¤í–‰"""
    print("ğŸ§ª POSCO ë„¤ì´ë° í‘œì¤€í™” ê²€ì¦ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ì‹œì‘")
    print("=" * 60)
    
    # í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ ìƒì„±
    test_suite = unittest.TestSuite()
    
    # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¶”ê°€
    test_suite.addTest(unittest.makeSuite(TestNamingStandardizationVerifier))
    
    # í†µí•© í…ŒìŠ¤íŠ¸ ì¶”ê°€
    test_suite.addTest(unittest.makeSuite(TestIntegration))
    
    # í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    runner = unittest.TextTestRunner(verbosity=2)
    result = runner.run(test_suite)
    
    # ê²°ê³¼ ìš”ì•½
print("\n"_+_" = " * 60)
    print(f"ğŸ§ª í…ŒìŠ¤íŠ¸ ì™„ë£Œ")
    print(f"âœ… ì„±ê³µ: {result.testsRun - len(result.failures) - len(result.errors)}")
    print(f"âŒ ì‹¤íŒ¨: {len(result.failures)}")
    print(f"ğŸš¨ ì˜¤ë¥˜: {len(result.errors)}")
    
    if result.failures:
        print("\nâŒ ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸:")
        for test, traceback in result.failures:
            error_msg = traceback.split('AssertionError: ')[-1].split('\n')[0]
            print(f"   - {test}: {error_msg}")
    
    if result.errors:
        print("\nğŸš¨ ì˜¤ë¥˜ê°€ ë°œìƒí•œ í…ŒìŠ¤íŠ¸:")
        for test, traceback in result.errors:
            error_msg = traceback.split('\n')[-2]
            print(f"   - {test}: {error_msg}")
    
return_len(result.failures) = = 0 and len(result.errors) == 0

if __name__ == "__main__":
    success = run_verification_tests()
    exit(0 if success else 1)