{
  "file_path": "lib_wt_common.sh",
  "file_type": ".sh",
  "content": "#!/bin/bash\n# ============================================================================\n# MacÏö© ÏõåÏπòÌñÑÏä§ÌÑ∞ Í≥µÌÜµ ÎùºÏù¥Î∏åÎü¨Î¶¨ v4.0\n# macOS ÏµúÏ†ÅÌôî Î∞è Í∞úÏÑ†ÏÇ¨Ìï≠ Î∞òÏòÅ\n# Î™®Îì† ÏõåÏπòÌñÑÏä§ÌÑ∞ Ïä§ÌÅ¨Î¶ΩÌä∏ÏóêÏÑú ÏÇ¨Ïö©ÌïòÎäî Í≥µÌÜµ Ìï®ÏàòÎì§\n# ============================================================================\n\n# UTF-8 Ïù∏ÏΩîÎî© ÏÑ§Ï†ï\nexport LANG=en_US.UTF-8\nexport LC_ALL=en_US.UTF-8\n\n# ============================================================================\n# ÌòÑÎåÄÏ†Å ÏÉâÏÉÅ ÌåîÎ†àÌä∏ (macOS Terminal ÏµúÏ†ÅÌôî)\n# ============================================================================\n\n# Í∏∞Î≥∏ Ï†úÏñ¥\nRESET='\\033[0m'\nBOLD='\\033[1m'\nDIM='\\033[2m'\nUNDERLINE='\\033[4m'\n\n# macOS ÏãúÏä§ÌÖú ÏÉâÏÉÅ (RGB Í∏∞Î∞ò)\nPRIMARY='\\033[38;2;0;122;255m'      # macOS Blue\nSECONDARY='\\033[38;2;52;199;89m'    # Success Green  \nACCENT='\\033[38;2;255;149;0m'       # Warning Orange\nDANGER='\\033[38;2;255;59;48m'       # Error Red\n\n# Îâ¥Ìä∏Îü¥ ÏÉâÏÉÅ (Í≥†ÎåÄÎπÑ ÏßÄÏõê)\nWHITE='\\033[38;2;255;255;255m'\nLIGHT_GRAY='\\033[38;2;200;200;200m'\nGRAY='\\033[38;2;150;150;150m'\nDARK_GRAY='\\033[38;2;100;100;100m'\nBLACK='\\033[38;2;0;0;0m'\n\n# Í∏∞Îä•Î≥Ñ ÏÉâÏÉÅ (Ï†ëÍ∑ºÏÑ± Í≥†Î†§)\nSUCCESS='\\033[38;2;52;199;89m'\nERROR='\\033[38;2;255;59;48m'\nWARNING='\\033[38;2;255;149;0m'\nINFO='\\033[38;2;0;122;255m'\n\n# Î∞∞Í≤Ω Í∞ïÏ°∞ (ÏÑ†ÌÉùÏ†Å ÏÇ¨Ïö©)\nBG_PRIMARY='\\033[48;2;0;122;255m'\nBG_SUCCESS='\\033[48;2;52;199;89m'\nBG_WARNING='\\033[48;2;255;149;0m'\nBG_ERROR='\\033[48;2;255;59;48m'\n\n# Î†àÍ±∞Ïãú Ìò∏ÌôòÏÑ± (Í∏∞Ï°¥ ÏΩîÎìú ÏßÄÏõê)\nRED=$ERROR\nGREEN=$SUCCESS\nYELLOW=$WARNING\nBLUE=$INFO\nCYAN=$INFO\nMAGENTA=$ACCENT\nHEADER=\"${PRIMARY}${BOLD}\"\n\n# ============================================================================\n# Î°úÍπÖ ÏãúÏä§ÌÖú (Í∞úÏÑ†Îê®)\n# ============================================================================\n\n# Î°úÍ∑∏ ÌååÏùº Í≤ΩÎ°ú\nLOG_DIR=\"$HOME/.watchhamster/logs\"\nLOG_FILE=\"$LOG_DIR/system.log\"\nERROR_LOG=\"$LOG_DIR/error.log\"\n\n# Î°úÍ∑∏ ÎîîÎ†âÌÜ†Î¶¨ ÏÉùÏÑ±\nmkdir -p \"$LOG_DIR\"\n\n# Î°úÍ∑∏ Ìï®ÏàòÎì§\nlog_message() {\n    local level=\"$1\"\n    local message=\"$2\"\n    local timestamp=$(date '+%Y-%m-%d %H:%M:%S')\n    echo \"[$timestamp] [$level] $message\" >> \"$LOG_FILE\"\n}\n\nlog_info() {\n    log_message \"INFO\" \"$1\"\n}\n\nlog_warning() {\n    log_message \"WARNING\" \"$1\"\n}\n\nlog_error() {\n    log_message \"ERROR\" \"$1\"\n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] [ERROR] $1\" >> \"$ERROR_LOG\"\n}\n\nlog_success() {\n    log_message \"SUCCESS\" \"$1\"\n}\n\n# ============================================================================\n# ÏãúÏä§ÌÖú Ï†ïÎ≥¥ Ìï®ÏàòÎì§ (Í∞úÏÑ†Îê®)\n# ============================================================================\n\n# Í∞úÏÑ†Îêú Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Î•† Í≥ÑÏÇ∞\nget_memory_usage() {\n    local total_mem=$(sysctl -n hw.memsize 2>/dev/null | awk '{print $1/1024/1024/1024}')\n    local free_mem=$(vm_stat 2>/dev/null | awk '/free/ {gsub(/\\./, \"\", $3); print $3*4096/1024/1024/1024}')\n    \n    if [[ -n \"$total_mem\" && -n \"$free_mem\" ]]; then\n        local used_mem=$(echo \"$total_mem - $free_mem\" | bc -l 2>/dev/null)\n        local usage_percent=$(echo \"scale=1; ($used_mem / $total_mem) * 100\" | bc -l 2>/dev/null)\n        echo \"${usage_percent:-0}\"\n    else\n        # ÎåÄÏ≤¥ Î∞©Î≤ï: top Î™ÖÎ†πÏñ¥ ÏÇ¨Ïö©\n        top -l 1 | grep \"PhysMem\" | awk '{print $2}' | sed 's/[^0-9.]//g'\n    fi\n}\n\n# CPU ÏÇ¨Ïö©Î•†\nget_cpu_usage() {\n    top -l 1 | grep \"CPU usage\" | awk '{print $3}' | sed 's/%//'\n}\n\n# ÎîîÏä§ÌÅ¨ ÏÇ¨Ïö©Î•†\nget_disk_usage() {\n    df -h / | awk 'NR==2 {print $5}' | sed 's/%//'\n}\n\n# ÏãúÏä§ÌÖú Ï†ïÎ≥¥ Ï∂úÎ†•\nprint_system_info() {\n    echo -e \"${GRAY}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${RESET}\"\n    echo -e \"${GRAY}‚ïë${RESET}                           ${CYAN}üìä ÏãúÏä§ÌÖú Ï†ïÎ≥¥${RESET}                                    ${GRAY}‚ïë${RESET}\"\n    echo -e \"${GRAY}‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£${RESET}\"\n    \n    # CPU Ï†ïÎ≥¥\n    local cpu_usage=$(get_cpu_usage)\n    echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}CPU ÏÇ¨Ïö©Î•†:${RESET} ${cpu_usage:-N/A}%\"\n    \n    # Î©îÎ™®Î¶¨ Ï†ïÎ≥¥ (Í∞úÏÑ†Îê®)\n    local mem_usage=$(get_memory_usage)\n    echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Î•†:${RESET} ${mem_usage:-N/A}%\"\n    \n    # ÎîîÏä§ÌÅ¨ Ï†ïÎ≥¥\n    local disk_usage=$(get_disk_usage)\n    echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}ÎîîÏä§ÌÅ¨ ÏÇ¨Ïö©Î•†:${RESET} ${disk_usage:-N/A}%\"\n    \n    # Python Î≤ÑÏ†Ñ\n    local python_version=$(python3 --version 2>/dev/null | cut -d' ' -f2)\n    echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}Python Î≤ÑÏ†Ñ:${RESET} ${python_version:-N/A}\"\n    \n    # ÎÑ§Ìä∏ÏõåÌÅ¨ ÏÉÅÌÉú\n    if ping -c 1 8.8.8.8 >/dev/null 2>&1; then\n        echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}ÎÑ§Ìä∏ÏõåÌÅ¨:${RESET} ${GREEN}Ïó∞Í≤∞Îê®${RESET}\"\n    else\n        echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}ÎÑ§Ìä∏ÏõåÌÅ¨:${RESET} ${RED}Ïó∞Í≤∞ ÏïàÎê®${RESET}\"\n    fi\n    \n    echo -e \"${GRAY}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${RESET}\"\n    echo\n}\n\n# ============================================================================\n# Í≥µÌÜµ Ìï®ÏàòÎì§\n# ============================================================================\n\n# Ìï®Ïàò: Ìó§Îçî Ï∂úÎ†•\nprint_header() {\n    echo -e \"${HEADER}‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà${RESET}\"\n    echo -e \"${HEADER}‚ñà‚ñà                                                                            ‚ñà‚ñà${RESET}\"\n    echo -e \"${HEADER}‚ñà‚ñà    $1                                         ‚ñà‚ñà${RESET}\"\n    echo -e \"${HEADER}‚ñà‚ñà                                                                            ‚ñà‚ñà${RESET}\"\n    echo -e \"${HEADER}‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà${RESET}\"\n    echo\n    log_info \"Header displayed: $1\"\n}\n\n# Ìï®Ïàò: ÏÑπÏÖò Ìó§Îçî Ï∂úÎ†•\nprint_section() {\n    echo -e \"${CYAN}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${RESET}\"\n    echo -e \"${CYAN}‚ïë${RESET}                           $1                                    ${CYAN}‚ïë${RESET}\"\n    echo -e \"${CYAN}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${RESET}\"\n    echo\n    log_info \"Section displayed: $1\"\n}\n\n# Ìï®Ïàò: ÏÑ±Í≥µ Î©îÏãúÏßÄ\nprint_success() {\n    echo -e \"${SUCCESS}‚úÖ $1${RESET}\"\n    log_success \"$1\"\n}\n\n# Ìï®Ïàò: ÏóêÎü¨ Î©îÏãúÏßÄ\nprint_error() {\n    echo -e \"${ERROR}‚ùå $1${RESET}\"\n    log_error \"$1\"\n}\n\n# Ìï®Ïàò: Í≤ΩÍ≥† Î©îÏãúÏßÄ\nprint_warning() {\n    echo -e \"${WARNING}‚ö†Ô∏è $1${RESET}\"\n    log_warning \"$1\"\n}\n\n# Ìï®Ïàò: Ï†ïÎ≥¥ Î©îÏãúÏßÄ\nprint_info() {\n    echo -e \"${INFO}‚ÑπÔ∏è $1${RESET}\"\n    log_info \"$1\"\n}\n\n# Ìï®Ïàò: Î°úÎî© Ïï†ÎãàÎ©îÏù¥ÏÖò\nshow_loading() {\n    local message=\"$1\"\n    local delay=0.1\n    local spin='‚†ã‚†ô‚†π‚†∏‚†º‚†¥‚†¶‚†ß‚†á‚†è'\n    local i=0\n    \n    echo -n \"$message \"\n    while true; do\n        printf \"\\b${spin:$((i % ${#spin})):1}\"\n        sleep $delay\n        ((i++))\n    done &\n    local pid=$!\n    \n    # Ìï®Ïàò Ï¢ÖÎ£å Ïãú Ïï†ÎãàÎ©îÏù¥ÏÖò Ï§ëÏßÄ\n    trap \"kill $pid 2>/dev/null\" EXIT\n    return $pid\n}\n\n# Ìï®Ïàò: Î°úÎî© Ï§ëÏßÄ\nstop_loading() {\n    local pid=$1\n    kill $pid 2>/dev/null\n    echo\n}\n\n# Ìï®Ïàò: Î∞ïÏä§ ÏãúÏûë\nstart_box() {\n    local color=\"$1\"\n    echo -e \"${color}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${RESET}\"\n}\n\n# Ìï®Ïàò: Î∞ïÏä§ ÎÅù\nend_box() {\n    local color=\"$1\"\n    echo -e \"${color}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${RESET}\"\n}\n\n# Ìï®Ïàò: Î©îÎâ¥ ÏïÑÏù¥ÌÖú Ï∂úÎ†•\nprint_menu_item() {\n    local number=\"$1\"\n    local title=\"$2\"\n    local description=\"$3\"\n    echo -e \"${GRAY}‚ïë${RESET}  ${YELLOW}$number${RESET} ${WHITE}$title${RESET}\"\n    echo -e \"${GRAY}‚ïë${RESET}     ${GRAY}$description${RESET}\"\n}\n\n# Ìï®Ïàò: Python ÌôòÍ≤Ω ÌôïÏù∏\ncheck_python_environment() {\n    if command -v python3 &> /dev/null; then\n        local version=$(python3 --version 2>&1 | cut -d' ' -f2)\n        print_success \"Python3 Î∞úÍ≤¨: $version\"\n        return 0\n    elif command -v python &> /dev/null; then\n        local version=$(python --version 2>&1 | cut -d' ' -f2)\n        print_success \"Python Î∞úÍ≤¨: $version\"\n        return 0\n    else\n        print_error \"PythonÏù¥ ÏÑ§ÏπòÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.\"\n        print_info \"PythonÏùÑ ÏÑ§ÏπòÌï¥Ï£ºÏÑ∏Ïöî: https://www.python.org/downloads/\"\n        return 1\n    fi\n}\n\n# Ìï®Ïàò: ÌïÑÏàò ÌååÏùº ÌôïÏù∏\ncheck_required_files() {\n    local files=(\"$@\")\n    local missing_files=()\n    \n    for file in \"${files[@]}\"; do\n        if [[ ! -f \"$file\" ]]; then\n            missing_files+=(\"$file\")\n        fi\n    done\n    \n    if [[ ${#missing_files[@]} -eq 0 ]]; then\n        print_success \"Î™®Îì† ÌïÑÏàò ÌååÏùºÏù¥ Ï°¥Ïû¨Ìï©ÎãàÎã§.\"\n        return 0\n    else\n        print_error \"ÎàÑÎùΩÎêú ÌååÏùºÎì§:\"\n        for file in \"${missing_files[@]}\"; do\n            echo -e \"  ${RED}‚Ä¢ $file${RESET}\"\n        done\n        return 1\n    fi\n}\n\n# Ìï®Ïàò: ÎÑ§Ìä∏ÏõåÌÅ¨ Ïó∞Í≤∞ ÌôïÏù∏\ncheck_network_connection() {\n    if ping -c 1 8.8.8.8 >/dev/null 2>&1; then\n        print_success \"Ïù∏ÌÑ∞ÎÑ∑ Ïó∞Í≤∞Ïù¥ Ï†ïÏÉÅÏûÖÎãàÎã§.\"\n        return 0\n    else\n        print_error \"Ïù∏ÌÑ∞ÎÑ∑ Ïó∞Í≤∞ÏùÑ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.\"\n        return 1\n    fi\n}\n\n# Ìï®Ïàò: Git Ï†ÄÏû•ÏÜå ÏÉÅÌÉú ÌôïÏù∏\ncheck_git_status() {\n    if [[ -d \".git\" ]]; then\n        local status=$(git status --porcelain 2>/dev/null)\n        if [[ -z \"$status\" ]]; then\n            print_success \"Git Ï†ÄÏû•ÏÜåÍ∞Ä Íπ®ÎÅóÌïú ÏÉÅÌÉúÏûÖÎãàÎã§.\"\n        else\n            print_warning \"Git Ï†ÄÏû•ÏÜåÏóê Î≥ÄÍ≤ΩÏÇ¨Ìï≠Ïù¥ ÏûàÏäµÎãàÎã§.\"\n        fi\n        return 0\n    else\n        print_warning \"Git Ï†ÄÏû•ÏÜåÍ∞Ä ÏïÑÎãôÎãàÎã§.\"\n        return 1\n    fi\n}\n\n# Ìï®Ïàò: ÌîÑÎ°úÏÑ∏Ïä§ ÌôïÏù∏\ncheck_process() {\n    local process_name=\"$1\"\n    if pgrep -f \"$process_name\" >/dev/null; then\n        print_success \"$process_name ÌîÑÎ°úÏÑ∏Ïä§Í∞Ä Ïã§Ìñâ Ï§ëÏûÖÎãàÎã§.\"\n        return 0\n    else\n        print_info \"$process_name ÌîÑÎ°úÏÑ∏Ïä§Í∞Ä Ïã§ÌñâÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.\"\n        return 1\n    fi\n}\n\n# Ìï®Ïàò: ÏÇ¨Ïö©Ïûê ÏûÖÎ†• Ï≤òÎ¶¨\nget_user_input() {\n    local prompt=\"$1\"\n    local default=\"$2\"\n    \n    if [[ -n \"$default\" ]]; then\n        echo -n -e \"${GREEN}$prompt${RESET} (Í∏∞Î≥∏Í∞í: $default): \"\n    else\n        echo -n -e \"${GREEN}$prompt${RESET}: \"\n    fi\n    \n    read -r user_input\n    \n    if [[ -z \"$user_input\" && -n \"$default\" ]]; then\n        echo \"$default\"\n    else\n        echo \"$user_input\"\n    fi\n}\n\n# Ìï®Ïàò: ÌôïÏù∏ ÎåÄÌôîÏÉÅÏûê\nconfirm_action() {\n    local message=\"$1\"\n    echo -n -e \"${YELLOW}$message${RESET} (y/N): \"\n    read -r response\n    \n    case \"$response\" in\n        [yY]|[yY][eE][sS])\n            return 0\n            ;;\n        *)\n            return 1\n            ;;\n    esac\n}\n\n# Ìï®Ïàò: Ï¥àÍ∏∞Ìôî\ninit_system() {\n    log_info \"ÏãúÏä§ÌÖú Ï¥àÍ∏∞Ìôî ÏãúÏûë\"\n    \n    # Î°úÍ∑∏ ÎîîÎ†âÌÜ†Î¶¨ ÏÉùÏÑ±\n    mkdir -p \"$LOG_DIR\"\n    \n    # Python ÌôòÍ≤Ω ÌôïÏù∏\n    check_python_environment\n    \n    # ÎÑ§Ìä∏ÏõåÌÅ¨ Ïó∞Í≤∞ ÌôïÏù∏\n    check_network_connection\n    \n    # Git ÏÉÅÌÉú ÌôïÏù∏\n    check_git_status\n    \n    log_info \"ÏãúÏä§ÌÖú Ï¥àÍ∏∞Ìôî ÏôÑÎ£å\"\n}\n\n# Ìï®Ïàò: Ï†ïÎ¶¨\ncleanup() {\n    log_info \"ÏãúÏä§ÌÖú Ï†ïÎ¶¨ ÏãúÏûë\"\n    # ÌïÑÏöîÌïú Ï†ïÎ¶¨ ÏûëÏóÖ ÏàòÌñâ\n    log_info \"ÏãúÏä§ÌÖú Ï†ïÎ¶¨ ÏôÑÎ£å\"\n}\n\n# Ïä§ÌÅ¨Î¶ΩÌä∏ Ï¢ÖÎ£å Ïãú Ï†ïÎ¶¨\ntrap cleanup EXIT\n\n# Ï¥àÍ∏∞Ìôî Ïã§Ìñâ\nif [[ \"${BASH_SOURCE[0]}\" == \"${0}\" ]]; then\n    init_system\nfi ",
  "commands": [
    "RESET='\\033[0m'",
    "echo \"[$timestamp] [$level] $message\" >> \"$LOG_FILE\"",
    "echo \"[$(date '+%Y-%m-%d %H:%M:%S')] [ERROR] $1\" >> \"$ERROR_LOG\"",
    "local used_mem=$(echo \"$total_mem - $free_mem\" | bc -l 2>/dev/null)",
    "local usage_percent=$(echo \"scale=1; ($used_mem / $total_mem) * 100\" | bc -l 2>/dev/null)",
    "echo \"${usage_percent:-0}\"",
    "echo -e \"${GRAY}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${RESET}\"",
    "echo -e \"${GRAY}‚ïë${RESET}                           ${CYAN}üìä ÏãúÏä§ÌÖú Ï†ïÎ≥¥${RESET}                                    ${GRAY}‚ïë${RESET}\"",
    "echo -e \"${GRAY}‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£${RESET}\"",
    "echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}CPU ÏÇ¨Ïö©Î•†:${RESET} ${cpu_usage:-N/A}%\"",
    "echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}Î©îÎ™®Î¶¨ ÏÇ¨Ïö©Î•†:${RESET} ${mem_usage:-N/A}%\"",
    "echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}ÎîîÏä§ÌÅ¨ ÏÇ¨Ïö©Î•†:${RESET} ${disk_usage:-N/A}%\"",
    "local python_version=$(python3 --version 2>/dev/null | cut -d' ' -f2)",
    "echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}Python Î≤ÑÏ†Ñ:${RESET} ${python_version:-N/A}\"",
    "echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}ÎÑ§Ìä∏ÏõåÌÅ¨:${RESET} ${GREEN}Ïó∞Í≤∞Îê®${RESET}\"",
    "echo -e \"${GRAY}‚ïë${RESET}  ${WHITE}ÎÑ§Ìä∏ÏõåÌÅ¨:${RESET} ${RED}Ïó∞Í≤∞ ÏïàÎê®${RESET}\"",
    "echo -e \"${GRAY}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${RESET}\"",
    "echo",
    "echo -e \"${HEADER}‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà${RESET}\"",
    "echo -e \"${HEADER}‚ñà‚ñà                                                                            ‚ñà‚ñà${RESET}\"",
    "echo -e \"${HEADER}‚ñà‚ñà    $1                                         ‚ñà‚ñà${RESET}\"",
    "echo -e \"${HEADER}‚ñà‚ñà                                                                            ‚ñà‚ñà${RESET}\"",
    "echo -e \"${HEADER}‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà${RESET}\"",
    "echo",
    "echo -e \"${CYAN}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${RESET}\"",
    "echo -e \"${CYAN}‚ïë${RESET}                           $1                                    ${CYAN}‚ïë${RESET}\"",
    "echo -e \"${CYAN}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${RESET}\"",
    "echo",
    "echo -e \"${SUCCESS}‚úÖ $1${RESET}\"",
    "echo -e \"${ERROR}‚ùå $1${RESET}\"",
    "echo -e \"${WARNING}‚ö†Ô∏è $1${RESET}\"",
    "echo -e \"${INFO}‚ÑπÔ∏è $1${RESET}\"",
    "echo -n \"$message \"",
    "echo",
    "echo -e \"${color}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${RESET}\"",
    "echo -e \"${color}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${RESET}\"",
    "echo -e \"${GRAY}‚ïë${RESET}  ${YELLOW}$number${RESET} ${WHITE}$title${RESET}\"",
    "echo -e \"${GRAY}‚ïë${RESET}     ${GRAY}$description${RESET}\"",
    "check_python_environment() {",
    "if command -v python3 &> /dev/null; then",
    "local version=$(python3 --version 2>&1 | cut -d' ' -f2)",
    "print_success \"Python3 Î∞úÍ≤¨: $version\"",
    "elif command -v python &> /dev/null; then",
    "local version=$(python --version 2>&1 | cut -d' ' -f2)",
    "print_success \"Python Î∞úÍ≤¨: $version\"",
    "print_error \"PythonÏù¥ ÏÑ§ÏπòÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.\"",
    "print_info \"PythonÏùÑ ÏÑ§ÏπòÌï¥Ï£ºÏÑ∏Ïöî: https://www.python.org/downloads/\"",
    "echo -e \"  ${RED}‚Ä¢ $file${RESET}\"",
    "check_git_status() {",
    "if [[ -d \".git\" ]]; then",
    "local status=$(git status --porcelain 2>/dev/null)",
    "print_success \"Git Ï†ÄÏû•ÏÜåÍ∞Ä Íπ®ÎÅóÌïú ÏÉÅÌÉúÏûÖÎãàÎã§.\"",
    "print_warning \"Git Ï†ÄÏû•ÏÜåÏóê Î≥ÄÍ≤ΩÏÇ¨Ìï≠Ïù¥ ÏûàÏäµÎãàÎã§.\"",
    "print_warning \"Git Ï†ÄÏû•ÏÜåÍ∞Ä ÏïÑÎãôÎãàÎã§.\"",
    "echo -n -e \"${GREEN}$prompt${RESET} (Í∏∞Î≥∏Í∞í: $default): \"",
    "echo -n -e \"${GREEN}$prompt${RESET}: \"",
    "echo \"$default\"",
    "echo \"$user_input\"",
    "echo -n -e \"${YELLOW}$message${RESET} (y/N): \"",
    "check_python_environment",
    "check_git_status"
  ],
  "variables": {
    "RESET": "'\\033[0m'",
    "BOLD": "'\\033[1m'",
    "DIM": "'\\033[2m'",
    "UNDERLINE": "'\\033[4m'",
    "PRIMARY": "'\\033[38;2;0;122;255m'      # macOS Blue",
    "SECONDARY": "'\\033[38;2;52;199;89m'    # Success Green",
    "ACCENT": "'\\033[38;2;255;149;0m'       # Warning Orange",
    "DANGER": "'\\033[38;2;255;59;48m'       # Error Red",
    "WHITE": "'\\033[38;2;255;255;255m'",
    "LIGHT_GRAY": "'\\033[38;2;200;200;200m'",
    "GRAY": "'\\033[38;2;150;150;150m'",
    "DARK_GRAY": "'\\033[38;2;100;100;100m'",
    "BLACK": "'\\033[38;2;0;0;0m'",
    "SUCCESS": "'\\033[38;2;52;199;89m'",
    "ERROR": "'\\033[38;2;255;59;48m'",
    "WARNING": "'\\033[38;2;255;149;0m'",
    "INFO": "'\\033[38;2;0;122;255m'",
    "BG_PRIMARY": "'\\033[48;2;0;122;255m'",
    "BG_SUCCESS": "'\\033[48;2;52;199;89m'",
    "BG_WARNING": "'\\033[48;2;255;149;0m'",
    "BG_ERROR": "'\\033[48;2;255;59;48m'",
    "RED": "$ERROR",
    "GREEN": "$SUCCESS",
    "YELLOW": "$WARNING",
    "BLUE": "$INFO",
    "CYAN": "$INFO",
    "MAGENTA": "$ACCENT",
    "HEADER": "\"${PRIMARY}${BOLD}\"",
    "LOG_DIR": "\"$HOME/.watchhamster/logs\"",
    "LOG_FILE": "\"$LOG_DIR/system.log\"",
    "ERROR_LOG": "\"$LOG_DIR/error.log\""
  }
}