{
  "file_path": "check_migration_requirements.sh",
  "file_type": ".sh",
  "content": "#!/bin/bash\n# POSCO ì›Œì¹˜í–„ìŠ¤í„° v2.0 ë§ˆì´ê·¸ë ˆì´ì…˜ ìš”êµ¬ì‚¬í•­ ì²´í¬ ìŠ¤í¬ë¦½íŠ¸\n\necho \"ðŸ” POSCO ì›Œì¹˜í–„ìŠ¤í„° v2.0 ë§ˆì´ê·¸ë ˆì´ì…˜ ìš”êµ¬ì‚¬í•­ í™•ì¸\"\n\n# ìƒ‰ìƒ ì •ì˜\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nBLUE='\\033[0;34m'\nNC='\\033[0m' # No Color\n\nprint_check() {\n    echo -e \"${BLUE}[í™•ì¸]${NC} $1\"\n}\n\nprint_success() {\n    echo -e \"${GREEN}âœ… $1${NC}\"\n}\n\nprint_warning() {\n    echo -e \"${YELLOW}âš ï¸ $1${NC}\"\n}\n\nprint_error() {\n    echo -e \"${RED}âŒ $1${NC}\"\n}\n\nERRORS=0\nWARNINGS=0\n\n# Python ë²„ì „ í™•ì¸\nprint_check \"Python ë²„ì „ í™•ì¸\"\nif command -v python3 &> /dev/null; then\n    PYTHON_VERSION=$(python3 --version 2>&1 | cut -d' ' -f2)\n    print_success \"Python ë²„ì „: $PYTHON_VERSION\"\n    \n    # Python 3.8+ í™•ì¸\n    if python3 -c \"import sys; exit(0 if sys.version_info >= (3, 8) else 1)\"; then\n        print_success \"Python 3.8+ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±\"\n    else\n        print_error \"Python 3.8 ì´ìƒì´ í•„ìš”í•©ë‹ˆë‹¤\"\n        ERRORS=$((ERRORS + 1))\n    fi\nelse\n    print_error \"Python3ê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤\"\n    ERRORS=$((ERRORS + 1))\nfi\n\n# í•„ìˆ˜ íŒ¨í‚¤ì§€ í™•ì¸\nprint_check \"í•„ìˆ˜ íŒ¨í‚¤ì§€ í™•ì¸\"\npython3 -c \"\nimport sys\npackages = ['requests', 'psutil', 'json', 'datetime', 'logging', 'subprocess', 'threading']\nmissing = []\navailable = []\n\nfor pkg in packages:\n    try:\n        __import__(pkg)\n        available.append(pkg)\n    except ImportError:\n        missing.append(pkg)\n\nfor pkg in available:\n    print(f'âœ… {pkg}')\n\nfor pkg in missing:\n    print(f'âŒ {pkg} - ì„¤ì¹˜ í•„ìš”')\n\nif missing:\n    print(f'\\\\nì„¤ì¹˜ ëª…ë ¹ì–´: pip3 install {\\\" \\\".join(missing)}')\n    exit(len(missing))\nelse:\n    exit(0)\n\"\n\nif [ $? -eq 0 ]; then\n    print_success \"ëª¨ë“  í•„ìˆ˜ íŒ¨í‚¤ì§€ ì‚¬ìš© ê°€ëŠ¥\"\nelse\n    print_error \"ì¼ë¶€ í•„ìˆ˜ íŒ¨í‚¤ì§€ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤\"\n    ERRORS=$((ERRORS + 1))\nfi\n\n# ë””ìŠ¤í¬ ê³µê°„ í™•ì¸\nprint_check \"ë””ìŠ¤í¬ ê³µê°„ í™•ì¸\"\nAVAILABLE_SPACE=$(df . | tail -1 | awk '{print $4}')\nREQUIRED_SPACE=1048576  # 1GB in KB\n\nif [ \"$AVAILABLE_SPACE\" -gt \"$REQUIRED_SPACE\" ]; then\n    SPACE_GB=$((AVAILABLE_SPACE / 1024 / 1024))\n    print_success \"ì‚¬ìš© ê°€ëŠ¥í•œ ë””ìŠ¤í¬ ê³µê°„: ${SPACE_GB}GB\"\nelse\n    print_error \"ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡± (ìµœì†Œ 1GB í•„ìš”)\"\n    ERRORS=$((ERRORS + 1))\nfi\n\n# ë©”ëª¨ë¦¬ í™•ì¸\nprint_check \"ë©”ëª¨ë¦¬ ìƒíƒœ í™•ì¸\"\nif command -v free &> /dev/null; then\n    AVAILABLE_MEM=$(free -m | awk 'NR==2{print $7}')\n    if [ \"$AVAILABLE_MEM\" -gt 512 ]; then\n        print_success \"ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬: ${AVAILABLE_MEM}MB\"\n    else\n        print_warning \"ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤ (ê¶Œìž¥: 512MB ì´ìƒ)\"\n        WARNINGS=$((WARNINGS + 1))\n    fi\nelif command -v vm_stat &> /dev/null; then\n    # macOS\n    print_success \"ë©”ëª¨ë¦¬ ìƒíƒœ í™•ì¸ (macOS)\"\nelse\n    print_warning \"ë©”ëª¨ë¦¬ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤\"\n    WARNINGS=$((WARNINGS + 1))\nfi\n\n# ê¸°ì¡´ ì‹œìŠ¤í…œ í™•ì¸\nprint_check \"ê¸°ì¡´ ì‹œìŠ¤í…œ í™•ì¸\"\n\nif [ -f \"Monitoring/Posco_News_mini/monitor_WatchHamster.py\" ]; then\n    print_success \"ê¸°ì¡´ ì›Œì¹˜í–„ìŠ¤í„° ë°œê²¬\"\nelse\n    print_error \"ê¸°ì¡´ ì›Œì¹˜í–„ìŠ¤í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\"\n    ERRORS=$((ERRORS + 1))\nfi\n\nif [ -f \"watchhamster_control_center.sh\" ]; then\n    print_success \"ì›Œì¹˜í–„ìŠ¤í„° ì œì–´ì„¼í„° ë°œê²¬\"\nelse\n    print_warning \"ì›Œì¹˜í–„ìŠ¤í„° ì œì–´ì„¼í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\"\n    WARNINGS=$((WARNINGS + 1))\nfi\n\n# v2 ì»´í¬ë„ŒíŠ¸ í™•ì¸\nprint_check \"v2 ì»´í¬ë„ŒíŠ¸ í™•ì¸\"\n\nV2_COMPONENTS=(\n    \"Monitoring/Posco_News_mini_v2/core/enhanced_process_manager.py\"\n    \"Monitoring/Posco_News_mini_v2/core/module_registry.py\"\n    \"Monitoring/Posco_News_mini_v2/core/notification_manager.py\"\n    \"Monitoring/Posco_News_mini_v2/core/watchhamster_integration.py\"\n)\n\nfor component in \"${V2_COMPONENTS[@]}\"; do\n    if [ -f \"$component\" ]; then\n        print_success \"$(basename \"$component\") ë°œê²¬\"\n    else\n        print_error \"$component ëˆ„ë½\"\n        ERRORS=$((ERRORS + 1))\n    fi\ndone\n\n# ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸\nprint_check \"ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸\"\n\nif pgrep -f \"monitor_WatchHamster.py\" > /dev/null; then\n    print_warning \"ì›Œì¹˜í–„ìŠ¤í„°ê°€ ì‹¤í–‰ ì¤‘ìž…ë‹ˆë‹¤ (ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ ì¤‘ì§€ë©ë‹ˆë‹¤)\"\n    WARNINGS=$((WARNINGS + 1))\nelse\n    print_success \"ì›Œì¹˜í–„ìŠ¤í„°ê°€ ì¤‘ì§€ë˜ì–´ ìžˆìŠµë‹ˆë‹¤\"\nfi\n\nif pgrep -f \"python.*posco\" > /dev/null; then\n    RUNNING_COUNT=$(pgrep -f \"python.*posco\" | wc -l)\n    print_warning \"POSCO ê´€ë ¨ í”„ë¡œì„¸ìŠ¤ ${RUNNING_COUNT}ê°œê°€ ì‹¤í–‰ ì¤‘ìž…ë‹ˆë‹¤\"\n    WARNINGS=$((WARNINGS + 1))\nelse\n    print_success \"POSCO ê´€ë ¨ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë˜ì§€ ì•Šê³  ìžˆìŠµë‹ˆë‹¤\"\nfi\n\n# ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸\nprint_check \"ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸\"\n\nif curl -s --max-time 5 https://www.google.com > /dev/null; then\n    print_success \"ì¸í„°ë„· ì—°ê²° ì •ìƒ\"\nelse\n    print_warning \"ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤\"\n    WARNINGS=$((WARNINGS + 1))\nfi\n\n# ê¶Œí•œ í™•ì¸\nprint_check \"íŒŒì¼ ê¶Œí•œ í™•ì¸\"\n\nif [ -w \".\" ]; then\n    print_success \"í˜„ìž¬ ë””ë ‰í† ë¦¬ ì“°ê¸° ê¶Œí•œ ìžˆìŒ\"\nelse\n    print_error \"í˜„ìž¬ ë””ë ‰í† ë¦¬ ì“°ê¸° ê¶Œí•œ ì—†ìŒ\"\n    ERRORS=$((ERRORS + 1))\nfi\n\n# ê²°ê³¼ ìš”ì•½\necho \"\"\necho \"ðŸ“‹ ë§ˆì´ê·¸ë ˆì´ì…˜ ìš”êµ¬ì‚¬í•­ í™•ì¸ ê²°ê³¼\"\necho \"==================================\"\n\nif [ $ERRORS -eq 0 ] && [ $WARNINGS -eq 0 ]; then\n    print_success \"ëª¨ë“  ìš”êµ¬ì‚¬í•­ì´ ì¶©ì¡±ë˜ì—ˆìŠµë‹ˆë‹¤!\"\n    echo \"\"\n    echo \"ðŸš€ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‹œìž‘í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤:\"\n    echo \"   ./migrate_to_v2.sh\"\n    exit 0\nelif [ $ERRORS -eq 0 ]; then\n    print_warning \"ê²½ê³  ${WARNINGS}ê°œê°€ ìžˆì§€ë§Œ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥í•©ë‹ˆë‹¤\"\n    echo \"\"\n    echo \"ðŸš€ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‹œìž‘í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤:\"\n    echo \"   ./migrate_to_v2.sh\"\n    exit 0\nelse\n    print_error \"ì˜¤ë¥˜ ${ERRORS}ê°œ, ê²½ê³  ${WARNINGS}ê°œ\"\n    echo \"\"\n    echo \"âŒ ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ì— ì˜¤ë¥˜ë¥¼ í•´ê²°í•´ì£¼ì„¸ìš”\"\n    echo \"\"\n    echo \"ðŸ’¡ ë„ì›€ë§:\"\n    echo \"   - Python ì„¤ì¹˜: https://www.python.org/downloads/\"\n    echo \"   - íŒ¨í‚¤ì§€ ì„¤ì¹˜: pip3 install requests psutil\"\n    echo \"   - ë””ìŠ¤í¬ ê³µê°„ í™•ë³´: ë¶ˆí•„ìš”í•œ íŒŒì¼ ì‚­ì œ\"\n    exit 1\nfi",
  "commands": [
    "echo \"ðŸ” POSCO ì›Œì¹˜í–„ìŠ¤í„° v2.0 ë§ˆì´ê·¸ë ˆì´ì…˜ ìš”êµ¬ì‚¬í•­ í™•ì¸\"",
    "echo -e \"${BLUE}[í™•ì¸]${NC} $1\"",
    "echo -e \"${GREEN}âœ… $1${NC}\"",
    "echo -e \"${YELLOW}âš ï¸ $1${NC}\"",
    "echo -e \"${RED}âŒ $1${NC}\"",
    "print_check \"Python ë²„ì „ í™•ì¸\"",
    "if command -v python3 &> /dev/null; then",
    "PYTHON_VERSION=$(python3 --version 2>&1 | cut -d' ' -f2)",
    "print_success \"Python ë²„ì „: $PYTHON_VERSION\"",
    "if python3 -c \"import sys; exit(0 if sys.version_info >= (3, 8) else 1)\"; then",
    "print_success \"Python 3.8+ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±\"",
    "print_error \"Python 3.8 ì´ìƒì´ í•„ìš”í•©ë‹ˆë‹¤\"",
    "print_error \"Python3ê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤\"",
    "python3 -c \"",
    "print(f'\\\\nì„¤ì¹˜ ëª…ë ¹ì–´: pip3 install {\\\" \\\".join(missing)}')",
    "if pgrep -f \"python.*posco\" > /dev/null; then",
    "RUNNING_COUNT=$(pgrep -f \"python.*posco\" | wc -l)",
    "echo \"\"",
    "echo \"ðŸ“‹ ë§ˆì´ê·¸ë ˆì´ì…˜ ìš”êµ¬ì‚¬í•­ í™•ì¸ ê²°ê³¼\"",
    "echo \"==================================\"",
    "echo \"\"",
    "echo \"ðŸš€ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‹œìž‘í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤:\"",
    "echo \"   ./migrate_to_v2.sh\"",
    "echo \"\"",
    "echo \"ðŸš€ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‹œìž‘í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤:\"",
    "echo \"   ./migrate_to_v2.sh\"",
    "echo \"\"",
    "echo \"âŒ ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ì— ì˜¤ë¥˜ë¥¼ í•´ê²°í•´ì£¼ì„¸ìš”\"",
    "echo \"\"",
    "echo \"ðŸ’¡ ë„ì›€ë§:\"",
    "echo \"   - Python ì„¤ì¹˜: https://www.python.org/downloads/\"",
    "echo \"   - íŒ¨í‚¤ì§€ ì„¤ì¹˜: pip3 install requests psutil\"",
    "echo \"   - ë””ìŠ¤í¬ ê³µê°„ í™•ë³´: ë¶ˆí•„ìš”í•œ íŒŒì¼ ì‚­ì œ\""
  ],
  "variables": {
    "RED": "'\\033[0;31m'",
    "GREEN": "'\\033[0;32m'",
    "YELLOW": "'\\033[1;33m'",
    "BLUE": "'\\033[0;34m'",
    "NC": "'\\033[0m' # No Color",
    "ERRORS": "$((ERRORS + 1))",
    "WARNINGS": "$((WARNINGS + 1))",
    "PYTHON_VERSION": "$(python3 --version 2>&1 | cut -d' ' -f2)",
    "packages": "['requests', 'psutil', 'json', 'datetime', 'logging', 'subprocess', 'threading']",
    "missing": "[]",
    "available": "[]",
    "AVAILABLE_SPACE": "$(df . | tail -1 | awk '{print $4}')",
    "REQUIRED_SPACE": "1048576  # 1GB in KB",
    "SPACE_GB": "$((AVAILABLE_SPACE / 1024 / 1024))",
    "AVAILABLE_MEM": "$(free -m | awk 'NR==2{print $7}')",
    "V2_COMPONENTS": "(",
    "RUNNING_COUNT": "$(pgrep -f \"python.*posco\" | wc -l)"
  }
}