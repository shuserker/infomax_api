{
  "file_path": "Monitoring/Posco_News_mini/posco_control_center.sh",
  "file_type": ".sh",
  "content": "#!/bin/bash\n# ============================================================================\n# POSCO Control Center v4.0\n# Macìš© POSCO ë‰´ìŠ¤ ë° ì£¼ê°€ ëª¨ë‹ˆí„°ë§ ì œì–´ ì„¼í„°\n# ============================================================================\n\n# ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ ì„¤ì •\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\ncd \"$SCRIPT_DIR\"\n\n# ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ\nif [[ -f \"../../lib_wt_common.sh\" ]]; then\n    source \"../../lib_wt_common.sh\"\nelse\n    echo \"Error: lib_wt_common.shë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\"\n    exit 1\nfi\n\n# ì´ˆê¸°í™”\ninit_system\n\n# ============================================================================\n# ë©”ì¸ ë©”ë‰´\n# ============================================================================\nmain_menu() {\n    clear\n    print_header \"ðŸ­ POSCO Control Center v4.0 ðŸŽ›ï¸\"\n    echo -e \"${INFO}ðŸŽ¯ POSCO ë‰´ìŠ¤ ë° ì£¼ê°€ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì„ ê´€ë¦¬í•©ë‹ˆë‹¤${RESET}\"\n    echo\n\n    echo -e \"${YELLOW}ðŸŽ›ï¸ ê´€ë¦¬í•  ê¸°ëŠ¥ì„ ì„ íƒí•˜ì„¸ìš”:${RESET}\"\n    echo\n\n    # ëª¨ë‹ˆí„°ë§ ê´€ë¦¬\n    start_box \"${GREEN}\"\n    echo -e \"${GREEN}â•‘${RESET}                           ${CYAN}ðŸ“Š ëª¨ë‹ˆí„°ë§ ê´€ë¦¬${RESET}                                    ${GREEN}â•‘${RESET}\"\n    echo -e \"${GREEN}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${RESET}\"\n    print_menu_item \"1.\" \"ðŸš€ ì›Œì¹˜í–„ìŠ¤í„° ì‹œìž‘\" \"POSCO ë‰´ìŠ¤ ëª¨ë‹ˆí„°ë§ ì‹œìž‘\"\n    print_menu_item \"2.\" \"ðŸ›‘ ì›Œì¹˜í–„ìŠ¤í„° ì¤‘ì§€\" \"ëª¨ë‹ˆí„°ë§ í”„ë¡œì„¸ìŠ¤ ì¤‘ì§€\"\n    print_menu_item \"3.\" \"ðŸ”„ ì›Œì¹˜í–„ìŠ¤í„° ìž¬ì‹œìž‘\" \"ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ìž¬ì‹œìž‘\"\n    print_menu_item \"4.\" \"ðŸ“Š ì‹¤ì‹œê°„ ìƒíƒœ í™•ì¸\" \"í˜„ìž¬ ëª¨ë‹ˆí„°ë§ ìƒíƒœ í™•ì¸\"\n    end_box\n\n    echo\n\n    # ë‰´ìŠ¤ ê´€ë¦¬\n    start_box \"${BLUE}\"\n    echo -e \"${BLUE}â•‘${RESET}                           ${MAGENTA}ðŸ“° ë‰´ìŠ¤ ê´€ë¦¬${RESET}                                      ${BLUE}â•‘${RESET}\"\n    echo -e \"${BLUE}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${RESET}\"\n    print_menu_item \"A.\" \"ðŸ“‹ ë‰´ìŠ¤ ë¡œê·¸ í™•ì¸\" \"ìµœì‹  ë‰´ìŠ¤ ë¡œê·¸ í™•ì¸\"\n    print_menu_item \"B.\" \"ðŸ“ˆ ë‰´ìŠ¤ í†µê³„ ë³´ê¸°\" \"ë‰´ìŠ¤ ìˆ˜ì§‘ í†µê³„ í™•ì¸\"\n    print_menu_item \"C.\" \"ðŸ” ë‰´ìŠ¤ ê²€ìƒ‰\" \"íŠ¹ì • í‚¤ì›Œë“œ ë‰´ìŠ¤ ê²€ìƒ‰\"\n    end_box\n\n    echo\n\n    # ì‹œìŠ¤í…œ ê´€ë¦¬\n    start_box \"${RED}\"\n    echo -e \"${RED}â•‘${RESET}                           ${WHITE}âš™ï¸ ì‹œìŠ¤í…œ ê´€ë¦¬${RESET}                                      ${RED}â•‘${RESET}\"\n    echo -e \"${RED}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${RESET}\"\n    print_menu_item \"D.\" \"ðŸ”§ ì‹œìŠ¤í…œ ìƒíƒœ\" \"POSCO ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸\"\n    print_menu_item \"E.\" \"ðŸ§ª ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸\" \"ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸\"\n    print_menu_item \"F.\" \"ðŸ“¦ ë°ì´í„° ë°±ì—…\" \"ë‰´ìŠ¤ ë°ì´í„° ë°±ì—…\"\n    end_box\n\n    echo\n    echo -e \"${GRAY}0. âŒ ë©”ì¸ ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°${RESET}\"\n    echo\n\n    print_system_info\n\n    echo -n -e \"${GREEN}ðŸŽ¯ ì„ íƒí•˜ì„¸ìš” (1-4, A-F, 0): ${RESET}\"\n    read -r choice\n\n    case \"$choice\" in\n        \"1\") start_watchhamster ;;\n        \"2\") stop_watchhamster ;;\n        \"3\") restart_watchhamster ;;\n        \"4\") check_monitoring_status ;;\n        \"A\"|\"a\") view_news_logs ;;\n        \"B\"|\"b\") view_news_stats ;;\n        \"C\"|\"c\") search_news ;;\n        \"D\"|\"d\") check_system_status ;;\n        \"E\"|\"e\") test_system ;;\n        \"F\"|\"f\") backup_data ;;\n        \"0\") return_to_main ;;\n        *) invalid_choice ;;\n    esac\n}\n\n# ============================================================================\n# ëª¨ë‹ˆí„°ë§ ê´€ë¦¬\n# ============================================================================\n\n# ì›Œì¹˜í–„ìŠ¤í„° ì‹œìž‘\nstart_watchhamster() {\n    clear\n    print_header \"ðŸš€ ì›Œì¹˜í–„ìŠ¤í„° ì‹œìž‘\"\n    \n    if ! confirm_action \"POSCO ë‰´ìŠ¤ ëª¨ë‹ˆí„°ë§ì„ ì‹œìž‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\"; then\n        main_menu\n        return\n    fi\n\n    # ì´ë¯¸ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸\n    if pgrep -f \"integrated_report_scheduler.py\" >/dev/null; then\n        print_warning \"ì›Œì¹˜í–„ìŠ¤í„°ê°€ ì´ë¯¸ ì‹¤í–‰ ì¤‘ìž…ë‹ˆë‹¤.\"\n        echo\n        read -p \"ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ëˆ„ë¥´ì„¸ìš”...\"\n        main_menu\n        return\n    fi\n\n    # Python ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ (í†µí•© ë¦¬í¬íŠ¸ ìŠ¤ì¼€ì¤„ëŸ¬ ì‚¬ìš©)\n    if [[ -f \"integrated_report_scheduler.py\" ]]; then\n        nohup python3 integrated_report_scheduler.py > posco_monitor.log 2>&1 &\n        local pid=$!\n        sleep 2\n        \n        if kill -0 $pid 2>/dev/null; then\n            print_success \"ì›Œì¹˜í–„ìŠ¤í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹œìž‘ë˜ì—ˆìŠµë‹ˆë‹¤. (PID: $pid)\"\n        else\n            print_error \"ì›Œì¹˜í–„ìŠ¤í„° ì‹œìž‘ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\"\n        fi\n    elif [[ -f \"run_monitor.py\" ]]; then\n        print_warning \"run_monitor.pyëŠ” ë¹„í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤. integrated_report_scheduler.pyë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\"\n        nohup python3 integrated_report_scheduler.py > posco_monitor.log 2>&1 &\n        local pid=$!\n        sleep 2\n        \n        if kill -0 $pid 2>/dev/null; then\n            print_success \"ì›Œì¹˜í–„ìŠ¤í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹œìž‘ë˜ì—ˆìŠµë‹ˆë‹¤. (PID: $pid)\"\n        else\n            print_error \"ì›Œì¹˜í–„ìŠ¤í„° ì‹œìž‘ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\"\n        fi\n    else\n        print_error \"ì‹¤í–‰í•  ìˆ˜ ìžˆëŠ” ëª¨ë‹ˆí„°ë§ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\"\n    fi\n\n    echo\n    read -p \"ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ëˆ„ë¥´ì„¸ìš”...\"\n    main_menu\n}\n\n# ì›Œì¹˜í–„ìŠ¤í„° ì¤‘ì§€\nstop_watchhamster() {\n    clear\n    print_header \"ðŸ›‘ ì›Œì¹˜í–„ìŠ¤í„° ì¤‘ì§€\"\n    \n    if ! confirm_action \"POSCO ë‰´ìŠ¤ ëª¨ë‹ˆí„°ë§ì„ ì¤‘ì§€í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\"; then\n        main_menu\n        return\n    fi\n\n    local pids=$(pgrep -f \"run_monitor.py\")\n    \n    if [[ -n \"$pids\" ]]; then\n        for pid in $pids; do\n            kill $pid 2>/dev/null\n        done\n        sleep 2\n        \n        # ê°•ì œ ì¢…ë£Œ\n        local remaining_pids=$(pgrep -f \"run_monitor.py\")\n        if [[ -n \"$remaining_pids\" ]]; then\n            for pid in $remaining_pids; do\n                kill -9 $pid 2>/dev/null\n            done\n        fi\n        \n        print_success \"ì›Œì¹˜í–„ìŠ¤í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ì¤‘ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.\"\n    else\n        print_info \"ì‹¤í–‰ ì¤‘ì¸ ì›Œì¹˜í–„ìŠ¤í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\"\n    fi\n\n    echo\n    read -p \"ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ëˆ„ë¥´ì„¸ìš”...\"\n    main_menu\n}\n\n# ì›Œì¹˜í–„ìŠ¤í„° ìž¬ì‹œìž‘\nrestart_watchhamster() {\n    clear\n    print_header \"ðŸ”„ ì›Œì¹˜í–„ìŠ¤í„° ìž¬ì‹œìž‘\"\n    \n    if ! confirm_action \"ì›Œì¹˜í–„ìŠ¤í„°ë¥¼ ìž¬ì‹œìž‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\"; then\n        main_menu\n        return\n    fi\n\n    stop_watchhamster\n    sleep 2\n    start_watchhamster\n}\n\n# ì‹¤ì‹œê°„ ìƒíƒœ í™•ì¸\ncheck_monitoring_status() {\n    clear\n    print_header \"ðŸ“Š ì‹¤ì‹œê°„ ìƒíƒœ í™•ì¸\"\n    \n    print_section \"âš™ï¸ í”„ë¡œì„¸ìŠ¤ ìƒíƒœ\"\n    \n    local pids=$(pgrep -f \"run_monitor.py\")\n    if [[ -n \"$pids\" ]]; then\n        print_success \"ì›Œì¹˜í–„ìŠ¤í„°ê°€ ì‹¤í–‰ ì¤‘ìž…ë‹ˆë‹¤.\"\n        for pid in $pids; do\n            local cmd=$(ps -p $pid -o command= 2>/dev/null)\n            local time=$(ps -p $pid -o etime= 2>/dev/null)\n            echo -e \"  ${GRAY}â€¢${RESET} PID: $pid, ì‹¤í–‰ì‹œê°„: $time\"\n        done\n    else\n        print_warning \"ì›Œì¹˜í–„ìŠ¤í„°ê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\"\n    fi\n\n    print_section \"ðŸ“Š ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤\"\n    print_system_info\n\n    print_section \"ðŸ“ ë¡œê·¸ íŒŒì¼ ìƒíƒœ\"\n    \n    local log_files=(\"posco_monitor.log\" \"system.log\" \"error.log\")\n    for log_file in \"${log_files[@]}\"; do\n        if [[ -f \"$log_file\" ]]; then\n            local size=$(du -h \"$log_file\" 2>/dev/null | cut -f1)\n            local modified=$(stat -f \"%Sm\" \"$log_file\" 2>/dev/null)\n            echo -e \"${GREEN}âœ…${RESET} $log_file (${size}, ìˆ˜ì •: $modified)\"\n        else\n            echo -e \"${RED}âŒ${RESET} $log_file (ì—†ìŒ)\"\n        fi\n    done\n\n    echo\n    read -p \"ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ëˆ„ë¥´ì„¸ìš”...\"\n    main_menu\n}\n\n# ============================================================================\n# ë‰´ìŠ¤ ê´€ë¦¬\n# ============================================================================\n\n# ë‰´ìŠ¤ ë¡œê·¸ í™•ì¸\nview_news_logs() {\n    clear\n    print_header \"ðŸ“‹ ë‰´ìŠ¤ ë¡œê·¸ í™•ì¸\"\n    \n    if [[ -f \"posco_monitor.log\" ]]; then\n        echo -e \"${CYAN}ìµœê·¼ 20ì¤„ì˜ ë¡œê·¸:${RESET}\"\n        echo\n        tail -n 20 \"posco_monitor.log\"\n    else\n        print_warning \"ë¡œê·¸ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.\"\n    fi\n    \n    echo\n    read -p \"ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ëˆ„ë¥´ì„¸ìš”...\"\n    main_menu\n}\n\n# ë‰´ìŠ¤ í†µê³„ ë³´ê¸°\nview_news_stats() {\n    clear\n    print_header \"ðŸ“ˆ ë‰´ìŠ¤ í†µê³„ ë³´ê¸°\"\n    \n    if [[ -f \"posco_news_data.json\" ]]; then\n        local size=$(du -h \"posco_news_data.json\" 2>/dev/null | cut -f1)\n        local modified=$(stat -f \"%Sm\" \"posco_news_data.json\" 2>/dev/null)\n        echo -e \"${GREEN}âœ…${RESET} posco_news_data.json (${size}, ìˆ˜ì •: $modified)\"\n        \n        # ê°„ë‹¨í•œ í†µê³„\n        local count=$(python3 -c \"import json; print(len(json.load(open('posco_news_data.json'))))\" 2>/dev/null || echo \"N/A\")\n        echo -e \"  ì´ ë‰´ìŠ¤ ìˆ˜: $countê°œ\"\n    else\n        echo -e \"${RED}âŒ${RESET} posco_news_data.json (ì—†ìŒ)\"\n    fi\n    \n    echo\n    read -p \"ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ëˆ„ë¥´ì„¸ìš”...\"\n    main_menu\n}\n\n# ë‰´ìŠ¤ ê²€ìƒ‰\nsearch_news() {\n    clear\n    print_header \"ðŸ” ë‰´ìŠ¤ ê²€ìƒ‰\"\n    \n    echo -n -e \"${GREEN}ê²€ìƒ‰í•  í‚¤ì›Œë“œë¥¼ ìž…ë ¥í•˜ì„¸ìš”: ${RESET}\"\n    read -r keyword\n    \n    if [[ -z \"$keyword\" ]]; then\n        print_error \"í‚¤ì›Œë“œë¥¼ ìž…ë ¥í•´ì£¼ì„¸ìš”.\"\n        echo\n        read -p \"ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ëˆ„ë¥´ì„¸ìš”...\"\n        main_menu\n        return\n    fi\n\n    if [[ -f \"posco_news_data.json\" ]]; then\n        echo -e \"${CYAN}ê²€ìƒ‰ ê²°ê³¼:${RESET}\"\n        echo\n        python3 -c \"\nimport json\nkeyword = '$keyword'\ntry:\n    with open('posco_news_data.json', 'r', encoding='utf-8') as f:\n        data = json.load(f)\n    if isinstance(data, list):\n        results = [item for item in data if keyword in item.get('title', '') or keyword in item.get('content', '')]\n        print(f'ë°œê²¬ëœ ë‰´ìŠ¤: {len(results)}ê°œ')\n        for i, item in enumerate(results[:5]):\n            print(f'{i+1}. {item.get(\\\"title\\\", \\\"ì œëª© ì—†ìŒ\\\")}')\n            print(f'   ë‚ ì§œ: {item.get(\\\"date\\\", \\\"ë‚ ì§œ ì—†ìŒ\\\")}')\n            print()\nexcept Exception as e:\n    print(f'ê²€ìƒ‰ ì˜¤ë¥˜: {e}')\n\" 2>/dev/null || echo \"ê²€ìƒ‰ ì‹¤íŒ¨\"\n    else\n        print_warning \"ë‰´ìŠ¤ ë°ì´í„° íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.\"\n    fi\n\n    echo\n    read -p \"ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ëˆ„ë¥´ì„¸ìš”...\"\n    main_menu\n}\n\n# ============================================================================\n# ì‹œìŠ¤í…œ ê´€ë¦¬\n# ============================================================================\n\n# ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸\ncheck_system_status() {\n    clear\n    print_header \"ðŸ”§ ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸\"\n    \n    print_section \"ðŸ“Š POSCO ì‹œìŠ¤í…œ í˜„í™©\"\n    \n    # Python í™˜ê²½ í™•ì¸\n    print_section \"ðŸ Python í™˜ê²½\"\n    check_python_environment\n    \n    # í•„ìˆ˜ íŒŒì¼ í™•ì¸\n    print_section \"ðŸ“ í•„ìˆ˜ íŒŒì¼ í™•ì¸\"\n    local required_files=(\"run_monitor.py\" \"config.py\" \"requirements.txt\")\n    check_required_files \"${required_files[@]}\"\n    \n    # ë°ì´í„° íŒŒì¼ í™•ì¸\n    print_section \"ðŸ“Š ë°ì´í„° íŒŒì¼ ìƒíƒœ\"\n    local data_files=(\"posco_news_data.json\" \"posco_news_cache.json\")\n    for data_file in \"${data_files[@]}\"; do\n        if [[ -f \"$data_file\" ]]; then\n            local size=$(du -h \"$data_file\" 2>/dev/null | cut -f1)\n            local modified=$(stat -f \"%Sm\" \"$data_file\" 2>/dev/null)\n            echo -e \"${GREEN}âœ…${RESET} $data_file (${size}, ìˆ˜ì •: $modified)\"\n        else\n            echo -e \"${RED}âŒ${RESET} $data_file (ì—†ìŒ)\"\n        fi\n    done\n    \n    # ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸\n    print_section \"ðŸŒ ë„¤íŠ¸ì›Œí¬ ìƒíƒœ\"\n    check_network_connection\n    \n    # ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ í™•ì¸\n    print_section \"ðŸ’» ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤\"\n    print_system_info\n\n    echo\n    read -p \"ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ëˆ„ë¥´ì„¸ìš”...\"\n    main_menu\n}\n\n# ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸\ntest_system() {\n    clear\n    print_header \"ðŸ§ª ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸\"\n    \n    if ! confirm_action \"POSCO ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\"; then\n        main_menu\n        return\n    fi\n\n    print_section \"ðŸ” ê¸°ë³¸ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸\"\n    \n    # Python í™˜ê²½ í…ŒìŠ¤íŠ¸\n    if check_python_environment; then\n        print_success \"Python í™˜ê²½ í…ŒìŠ¤íŠ¸ í†µê³¼\"\n    else\n        print_error \"Python í™˜ê²½ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨\"\n    fi\n    \n    # ë„¤íŠ¸ì›Œí¬ ì—°ê²° í…ŒìŠ¤íŠ¸\n    if check_network_connection; then\n        print_success \"ë„¤íŠ¸ì›Œí¬ ì—°ê²° í…ŒìŠ¤íŠ¸ í†µê³¼\"\n    else\n        print_error \"ë„¤íŠ¸ì›Œí¬ ì—°ê²° í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨\"\n    fi\n    \n    # Python ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸\n    print_section \"ðŸ Python ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸\"\n    if [[ -f \"run_monitor.py\" ]]; then\n        if python3 -c \"import sys; print('Python ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸ í†µê³¼')\" 2>/dev/null; then\n            print_success \"run_monitor.py í…ŒìŠ¤íŠ¸ í†µê³¼\"\n        else\n            print_error \"run_monitor.py í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨\"\n        fi\n    else\n        print_warning \"run_monitor.py íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.\"\n    fi\n\n    print_success \"ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\"\n    echo\n    read -p \"ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ëˆ„ë¥´ì„¸ìš”...\"\n    main_menu\n}\n\n# ë°ì´í„° ë°±ì—…\nbackup_data() {\n    clear\n    print_header \"ðŸ“¦ ë°ì´í„° ë°±ì—…\"\n    \n    if ! confirm_action \"POSCO ë‰´ìŠ¤ ë°ì´í„°ë¥¼ ë°±ì—…í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\"; then\n        main_menu\n        return\n    fi\n\n    local backup_dir=\"$HOME/.watchhamster/posco_backups\"\n    local timestamp=$(date '+%Y%m%d_%H%M%S')\n    local backup_name=\"posco_backup_$timestamp\"\n    local backup_path=\"$backup_dir/$backup_name\"\n\n    mkdir -p \"$backup_path\"\n\n    # ì¤‘ìš” ë°ì´í„° íŒŒì¼ë“¤ ë°±ì—…\n    local data_files=(\"posco_news_data.json\" \"posco_news_cache.json\" \"*.py\" \"config.py\")\n    local backed_up=0\n    \n    for pattern in \"${data_files[@]}\"; do\n        for file in $pattern; do\n            if [[ -f \"$file\" ]]; then\n                cp \"$file\" \"$backup_path/\" 2>/dev/null\n                backed_up=1\n            fi\n        done\n    done\n\n    # ë°±ì—… ì••ì¶•\n    if [[ $backed_up -eq 1 ]]; then\n        cd \"$backup_dir\"\n        tar -czf \"$backup_name.tar.gz\" \"$backup_name\" 2>/dev/null\n        rm -rf \"$backup_name\"\n        cd \"$SCRIPT_DIR\"\n        \n        local backup_size=$(du -h \"$backup_dir/$backup_name.tar.gz\" 2>/dev/null | cut -f1)\n        print_success \"ë°±ì—…ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤: $backup_name.tar.gz (í¬ê¸°: $backup_size)\"\n    else\n        print_error \"ë°±ì—…í•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\"\n    fi\n\n    echo\n    read -p \"ê³„ì†í•˜ë ¤ë©´ Enterë¥¼ ëˆ„ë¥´ì„¸ìš”...\"\n    main_menu\n}\n\n# ============================================================================\n# ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤\n# ============================================================================\n\n# ìž˜ëª»ëœ ì„ íƒ ì²˜ë¦¬\ninvalid_choice() {\n    print_error \"ìž˜ëª»ëœ ì„ íƒìž…ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\"\n    sleep 2\n    main_menu\n}\n\n# ë©”ì¸ ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°\nreturn_to_main() {\n    cd \"$SCRIPT_DIR/../..\"\n    if [[ -f \"watchhamster_master_control.sh\" ]]; then\n        bash \"watchhamster_master_control.sh\"\n    else\n        print_error \"ë©”ì¸ ì œì–´ ì„¼í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\"\n        exit 1\n    fi\n}\n\n# ============================================================================\n# ë©”ì¸ ì‹¤í–‰\n# ============================================================================\n\n# ìŠ¤í¬ë¦½íŠ¸ ì‹œìž‘\nmain_menu ",
  "commands": [
    "SCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"",
    "cd \"$SCRIPT_DIR\"",
    "echo \"Error: lib_wt_common.shë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\"",
    "echo -e \"${INFO}ðŸŽ¯ POSCO ë‰´ìŠ¤ ë° ì£¼ê°€ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì„ ê´€ë¦¬í•©ë‹ˆë‹¤${RESET}\"",
    "echo",
    "echo -e \"${YELLOW}ðŸŽ›ï¸ ê´€ë¦¬í•  ê¸°ëŠ¥ì„ ì„ íƒí•˜ì„¸ìš”:${RESET}\"",
    "echo",
    "echo -e \"${GREEN}â•‘${RESET}                           ${CYAN}ðŸ“Š ëª¨ë‹ˆí„°ë§ ê´€ë¦¬${RESET}                                    ${GREEN}â•‘${RESET}\"",
    "echo -e \"${GREEN}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${RESET}\"",
    "echo",
    "echo -e \"${BLUE}â•‘${RESET}                           ${MAGENTA}ðŸ“° ë‰´ìŠ¤ ê´€ë¦¬${RESET}                                      ${BLUE}â•‘${RESET}\"",
    "echo -e \"${BLUE}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${RESET}\"",
    "echo",
    "echo -e \"${RED}â•‘${RESET}                           ${WHITE}âš™ï¸ ì‹œìŠ¤í…œ ê´€ë¦¬${RESET}                                      ${RED}â•‘${RESET}\"",
    "echo -e \"${RED}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${RESET}\"",
    "echo",
    "echo -e \"${GRAY}0. âŒ ë©”ì¸ ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°${RESET}\"",
    "echo",
    "echo -n -e \"${GREEN}ðŸŽ¯ ì„ íƒí•˜ì„¸ìš” (1-4, A-F, 0): ${RESET}\"",
    "echo",
    "nohup python3 integrated_report_scheduler.py > posco_monitor.log 2>&1 &",
    "nohup python3 integrated_report_scheduler.py > posco_monitor.log 2>&1 &",
    "echo",
    "echo",
    "echo -e \"  ${GRAY}â€¢${RESET} PID: $pid, ì‹¤í–‰ì‹œê°„: $time\"",
    "echo -e \"${GREEN}âœ…${RESET} $log_file (${size}, ìˆ˜ì •: $modified)\"",
    "echo -e \"${RED}âŒ${RESET} $log_file (ì—†ìŒ)\"",
    "echo",
    "echo -e \"${CYAN}ìµœê·¼ 20ì¤„ì˜ ë¡œê·¸:${RESET}\"",
    "echo",
    "echo",
    "echo -e \"${GREEN}âœ…${RESET} posco_news_data.json (${size}, ìˆ˜ì •: $modified)\"",
    "local count=$(python3 -c \"import json; print(len(json.load(open('posco_news_data.json'))))\" 2>/dev/null || echo \"N/A\")",
    "echo -e \"  ì´ ë‰´ìŠ¤ ìˆ˜: $countê°œ\"",
    "echo -e \"${RED}âŒ${RESET} posco_news_data.json (ì—†ìŒ)\"",
    "echo",
    "echo -n -e \"${GREEN}ê²€ìƒ‰í•  í‚¤ì›Œë“œë¥¼ ìž…ë ¥í•˜ì„¸ìš”: ${RESET}\"",
    "echo",
    "echo -e \"${CYAN}ê²€ìƒ‰ ê²°ê³¼:${RESET}\"",
    "echo",
    "python3 -c \"",
    "\" 2>/dev/null || echo \"ê²€ìƒ‰ ì‹¤íŒ¨\"",
    "echo",
    "print_section \"ðŸ Python í™˜ê²½\"",
    "check_python_environment",
    "echo -e \"${GREEN}âœ…${RESET} $data_file (${size}, ìˆ˜ì •: $modified)\"",
    "echo -e \"${RED}âŒ${RESET} $data_file (ì—†ìŒ)\"",
    "echo",
    "if check_python_environment; then",
    "print_success \"Python í™˜ê²½ í…ŒìŠ¤íŠ¸ í†µê³¼\"",
    "print_error \"Python í™˜ê²½ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨\"",
    "print_section \"ðŸ Python ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸\"",
    "if python3 -c \"import sys; print('Python ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸ í†µê³¼')\" 2>/dev/null; then",
    "echo",
    "cd \"$backup_dir\"",
    "cd \"$SCRIPT_DIR\"",
    "echo",
    "cd \"$SCRIPT_DIR/../..\""
  ],
  "variables": {
    "SCRIPT_DIR": "\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"",
    "keyword": "'$keyword'",
    "data": "json.load(f)",
    "backed_up": "1"
  }
}